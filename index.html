<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
  document.write(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgo8dGl0bGU+Wnlnb2xhYnM8L3RpdGxlPgoKPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Qb3BwaW5zOndnaHRAMzAwOzQwMDs2MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGVzLmNzcyIgLz4KICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUludGVyOndnaHRANDAwOzYwMDs4MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgoKCgoKPHN0eWxlPgoqIHsKICBtYXJnaW46MDsKICBwYWRkaW5nOjA7CiAgYm94LXNpemluZzpib3JkZXItYm94OwogIGZvbnQtZmFtaWx5OidQb3BwaW5zJyxzYW5zLXNlcmlmOwp9Cgpib2R5IHsKICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IHRvcCBsZWZ0LCMwZTE2MjUsIzA1MDgwZiA3MCUpOwogIGNvbG9yOndoaXRlOwogIG92ZXJmbG93LXg6aGlkZGVuOwp9Ci8qIEdSSUQgQkFDS0dST1VORCAqLwouZ3JpZC1iZyB7CiAgcG9zaXRpb246IGZpeGVkOwogIGluc2V0OiAwOwogIGJhY2tncm91bmQtaW1hZ2U6CiAgICBsaW5lYXItZ3JhZGllbnQocmdiYSgyNTUsIDAsIDAsIDAuMTUpIDFweCwgdHJhbnNwYXJlbnQgMXB4KSwKICAgIGxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgyNTUsIDAsIDAsIDAuMTUpIDFweCwgdHJhbnNwYXJlbnQgMXB4KTsKICBiYWNrZ3JvdW5kLXNpemU6IDQwcHggNDBweDsKICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDYwMHB4KSByb3RhdGVYKDYwZGVnKTsKICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3A7CiAgei1pbmRleDogLTE7Cn0KCi8qIE5BVkJBUiAqLwoubmF2YmFyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBwYWRkaW5nOiAyNHB4IDgwcHg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmxvZ28gewogIGZvbnQtd2VpZ2h0OiA4MDA7CiAgZm9udC1zaXplOiAyMHB4Owp9CgpuYXYgYSB7CiAgbWFyZ2luLXJpZ2h0OiAyOHB4OwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBjb2xvcjogI2FhYTsKICBmb250LXdlaWdodDogNTAwOwogIHRyYW5zaXRpb246IDAuM3M7Cn0KCm5hdiBhOmhvdmVyIHsKICBjb2xvcjogd2hpdGU7Cn0KCi5uYXYtYnRuIHsKICBiYWNrZ3JvdW5kOiAjMmY2Y2ZmOwogIGJvcmRlcjogbm9uZTsKICBwYWRkaW5nOiAxMHB4IDE4cHg7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIGNvbG9yOiB3aGl0ZTsKICBmb250LXdlaWdodDogNjAwOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiAwLjNzOwp9CgoubmF2LWJ0bjpob3ZlciB7CiAgYmFja2dyb3VuZDogIzFkNGVkODsKfQoKLyogSEVSTyAqLwouaGVybyB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwYWRkaW5nOiAxMDBweCA4MHB4Owp9CgouaGVyby1sZWZ0IHsKICBtYXgtd2lkdGg6IDU1MHB4Owp9CgouYmFkZ2UgewogIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7CiAgcGFkZGluZzogMTBweCAxNnB4OwogIGJvcmRlci1yYWRpdXM6IDMwcHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgY29sb3I6ICNjY2M7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouaGVybyBoMSB7CiAgZm9udC1zaXplOiA0OHB4OwogIGZvbnQtd2VpZ2h0OiA4MDA7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoKLmhlcm8gaDEgc3BhbiB7CiAgY29sb3I6ICMyZjZjZmY7Cn0KCi5oZXJvIHAgewogIGNvbG9yOiAjYWFhOwogIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDEuNjsKfQoKLmJ1dHRvbnMgYnV0dG9uIHsKICBwYWRkaW5nOiAxNHB4IDIycHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBib3JkZXI6IG5vbmU7CiAgbWFyZ2luLXJpZ2h0OiAxNnB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgoucHJpbWFyeS1idG4gewogIGJhY2tncm91bmQ6ICMyZjZjZmY7CiAgY29sb3I6IHdoaXRlOwogIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoNDcsMTA4LDI1NSwwLjQpOwp9Cgouc2Vjb25kYXJ5LWJ0biB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDsKICBjb2xvcjogI2NjYzsKfQoKLyogUklHSFQgU0lERSAqLwouaGVyby1yaWdodCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiA1MDBweDsKICBoZWlnaHQ6IDUwMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmZhY2UtcGxhY2Vob2xkZXIgewogIHdpZHRoOiAzMjBweDsKICBoZWlnaHQ6IDQyMHB4OwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICMxMTEsICMxYTFhMWEpOwogIGJvcmRlci1yYWRpdXM6IDE2MHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBjb2xvcjogIzQ0NDsKICBmb250LXdlaWdodDogNjAwOwogIGZvbnQtc2l6ZTogMThweDsKICBib3gtc2hhZG93OiAwIDAgNDBweCByZ2JhKDAsMCwwLDAuOCk7Cn0KCi8qIE1FVFJJQyBDQVJEUyAqLwoubWV0cmljLWNhcmQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBiYWNrZ3JvdW5kOiByZ2JhKDIwLCAyMCwgMzAsIDAuOSk7CiAgcGFkZGluZzogMTZweCAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjYmJiOwogIGJhY2tkcm9wLWZpbHRlcjogYmx1cig2cHgpOwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7Cn0KCi5tZXRyaWMtY2FyZCBzdHJvbmcgewogIGRpc3BsYXk6IGJsb2NrOwogIG1hcmdpbi10b3A6IDZweDsKICBmb250LXNpemU6IDIwcHg7CiAgY29sb3I6IHdoaXRlOwp9CgoubWV0cmljLWNhcmQudG9wIHsKICB0b3A6IDQwcHg7CiAgcmlnaHQ6IDA7Cn0KCi5tZXRyaWMtY2FyZC5ib3R0b20gewogIGJvdHRvbTogNjBweDsKICBsZWZ0OiAwOwp9Cgouc2NvcmUgewogIGNvbG9yOiAjZmY0ZDRkOwp9Ci5oZXJvLXJpZ2h0IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDUwMHB4OwogIGhlaWdodDogNTAwcHg7Cn0KCiNmYWNlM2QgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogNTAwcHg7Cn0KLyogLS0tLS0tLS0tLSBOQVZCQVIgLS0tLS0tLS0tLSAqLwoKLm5hdmJhciB7CiAgZGlzcGxheTpmbGV4OwogIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOmNlbnRlcjsKICBwYWRkaW5nOjE4cHggNjBweDsKICBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC40KTsKICBiYWNrZHJvcC1maWx0ZXI6Ymx1cigxMnB4KTsKICBib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDI1NSwyMTUsMTIwLDAuMik7Cn0KCi5sb2dvIHsKICBmb250LXNpemU6MjJweDsKICBmb250LXdlaWdodDo3MDA7CiAgbGV0dGVyLXNwYWNpbmc6MnB4OwogIGJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLCNmZmQ4NmIsI2ZmYjcwMCk7CiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6dGV4dDsKICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjp0cmFuc3BhcmVudDsKfQoKLm5hdi1saW5rcyBhIHsKICBtYXJnaW4tbGVmdDozMHB4OwogIHRleHQtZGVjb3JhdGlvbjpub25lOwogIGNvbG9yOiNjY2M7CiAgZm9udC1zaXplOjE0cHg7CiAgdHJhbnNpdGlvbjowLjNzOwp9CgoubmF2LWxpbmtzIGE6aG92ZXIgewogIGNvbG9yOiNmZmQ4NmI7Cn0KCi8qIC0tLS0tLS0tLS0gSEVSTyAtLS0tLS0tLS0tICovCgouaGVybyB7CiAgdGV4dC1hbGlnbjpjZW50ZXI7CiAgcGFkZGluZzo3MHB4IDIwcHggNDBweDsKfQoKLmhlcm8gaDEgewogIGZvbnQtc2l6ZTo2NHB4OwogIGxldHRlci1zcGFjaW5nOjRweDsKICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZywjZmZmZmZmLCNmZmQ4NmIpOwogIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOnRleHQ7CiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6dHJhbnNwYXJlbnQ7Cn0KCi5oZXJvIHAgewogIG1hcmdpbi10b3A6MTVweDsKICBmb250LXNpemU6MThweDsKICBjb2xvcjojYWFhOwp9CgovKiAtLS0tLS0tLS0tIENPTlRBSU5FUiAtLS0tLS0tLS0tICovCgouY29udGFpbmVyIHsKICBtYXgtd2lkdGg6MTMwMHB4OwogIG1hcmdpbjphdXRvOwogIHBhZGRpbmc6MzBweDsKICBkaXNwbGF5OmdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnI7CiAgZ2FwOjQwcHg7Cn0KCi8qIC0tLS0tLS0tLS0gQ0FSRCAtLS0tLS0tLS0tICovCgouY2FyZCB7CiAgYmFja2dyb3VuZDpyZ2JhKDE1LDI1LDQ1LDAuNik7CiAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyMTUsMTIwLDAuMTUpOwogIGJvcmRlci1yYWRpdXM6MjBweDsKICBwYWRkaW5nOjMwcHg7CiAgYmFja2Ryb3AtZmlsdGVyOmJsdXIoMjBweCk7CiAgYm94LXNoYWRvdzowIDAgNDBweCByZ2JhKDI1NSwyMTUsMTIwLDAuMDUpOwogIHRyYW5zaXRpb246MC40czsKfQoKLmNhcmQ6aG92ZXIgewogIGJveC1zaGFkb3c6MCAwIDYwcHggcmdiYSgyNTUsMjE1LDEyMCwwLjIpOwogIHRyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpOwp9CgovKiAtLS0tLS0tLS0tIEJVVFRPTlMgLS0tLS0tLS0tLSAqLwoKYnV0dG9uIHsKICBwYWRkaW5nOjEycHggMjhweDsKICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZywjZmZkODZiLCNmZmI3MDApOwogIGNvbG9yOmJsYWNrOwogIGJvcmRlcjpub25lOwogIGJvcmRlci1yYWRpdXM6MTJweDsKICBmb250LXdlaWdodDo2MDA7CiAgY3Vyc29yOnBvaW50ZXI7CiAgdHJhbnNpdGlvbjowLjNzOwogIG1hcmdpbi10b3A6MTVweDsKfQoKYnV0dG9uOmhvdmVyIHsKICB0cmFuc2Zvcm06c2NhbGUoMS4wNSk7CiAgYm94LXNoYWRvdzowIDAgMjBweCByZ2JhKDI1NSwyMTUsMTIwLDAuNik7Cn0KCi8qIC0tLS0tLS0tLS0gQ0FOVkFTIC0tLS0tLS0tLS0gKi8KCmNhbnZhcyB7CiAgd2lkdGg6MTAwJTsKICBib3JkZXItcmFkaXVzOjE1cHg7CiAgbWFyZ2luLXRvcDoyMHB4OwogIGJveC1zaGFkb3c6MCAwIDI1cHggcmdiYSgwLDAsMCwwLjUpOwp9CgovKiAtLS0tLS0tLS0tIElOU1RSVUNUSU9OUyAtLS0tLS0tLS0tICovCgojaW5zdHJ1Y3Rpb25zIHsKICBtYXJnaW4tdG9wOjIwcHg7CiAgcGFkZGluZzoxNXB4OwogIGJvcmRlci1yYWRpdXM6MTJweDsKICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDE4MywwLDAuMSk7CiAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwxODMsMCwwLjQpOwogIGNvbG9yOiNmZmQ4NmI7Cn0KCi8qIC0tLS0tLS0tLS0gUFJPR1JFU1MgLS0tLS0tLS0tLSAqLwoKI3Byb2dyZXNzIHsKICBoZWlnaHQ6OHB4OwogIGJhY2tncm91bmQ6IzFhMWYyZTsKICBib3JkZXItcmFkaXVzOjVweDsKICBtYXJnaW4tdG9wOjE1cHg7Cn0KCiNwcm9ncmVzcy1iYXIgewogIGhlaWdodDoxMDAlOwogIHdpZHRoOjAlOwogIGJvcmRlci1yYWRpdXM6NXB4OwogIGJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLCNmZmQ4NmIsI2ZmYjcwMCk7CiAgdHJhbnNpdGlvbjp3aWR0aCAwLjRzOwp9CgovKiAtLS0tLS0tLS0tIE1FVFJJQ1MgLS0tLS0tLS0tLSAqLwoKI21ldHJpY3MgewogIG1hcmdpbi10b3A6MjBweDsKICBmb250LXNpemU6MTRweDsKICBsaW5lLWhlaWdodDoxLjg7Cn0KCi5zbGlkZXItYm94IHsKICBtYXJnaW46MThweCAwOwp9Cgouc2xpZGVyLXRyYWNrIHsKICBwb3NpdGlvbjpyZWxhdGl2ZTsKICBoZWlnaHQ6MTRweDsKICBib3JkZXItcmFkaXVzOjhweDsKICBvdmVyZmxvdzpoaWRkZW47CiAgYmFja2dyb3VuZDojMWExZjJlOwp9Cgouc2xpZGVyLXRyYWNrIGRpdjpmaXJzdC1jaGlsZCB7CiAgaGVpZ2h0OjEwMCU7CiAgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsI2ZmM2QzZCwjZmZhZTAwLCMwMGZmNmEsI2ZmYWUwMCwjZmYzZDNkKTsKfQoKLnNsaWRlci1tYXJrZXIgewogIHBvc2l0aW9uOmFic29sdXRlOwogIHRvcDotOHB4OwogIHdpZHRoOjZweDsKICBoZWlnaHQ6MzBweDsKICBiYWNrZ3JvdW5kOndoaXRlOwogIGJvcmRlci1yYWRpdXM6M3B4OwogIGJveC1zaGFkb3c6MCAwIDEwcHggI2ZmZDg2YjsKfQppbnB1dFt0eXBlPSJyYW5nZSJdOjotd2Via2l0LXNsaWRlci10aHVtYiB7CiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogIGJhY2tncm91bmQ6IHdoaXRlOwogIGhlaWdodDogMTZweDsKICB3aWR0aDogMTZweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci8qIC0tLS0tLS0tLS0gU1VSR0VSWSBQQU5FTCAtLS0tLS0tLS0tICovCgojc3VyZ2VyeSB7CiAgbWFyZ2luLXRvcDoyNXB4OwogIHBhZGRpbmc6MjBweDsKICBib3JkZXItcmFkaXVzOjE1cHg7CiAgYmFja2dyb3VuZDpyZ2JhKDEwMCwwLDAsMC4zKTsKICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDAsMCwwLjUpOwogIGJveC1zaGFkb3c6MCAwIDIwcHggcmdiYSgyNTUsMCwwLDAuMik7Cn0KCi8qIC0tLS0tLS0tLS0gRk9PVEVSIC0tLS0tLS0tLS0gKi8KCi5mb290ZXIgewogIHRleHQtYWxpZ246Y2VudGVyOwogIHBhZGRpbmc6NDBweDsKICBjb2xvcjojNTU1OwogIGZvbnQtc2l6ZToxM3B4Owp9CgpAbWVkaWEobWF4LXdpZHRoOjkwMHB4KXsKICAuY29udGFpbmVyIHsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnI7CiAgfQogIC5oZXJvIGgxIHsKICAgIGZvbnQtc2l6ZTo0MnB4OwogIH0KfQouYXBwZWFsLWNvbnRhaW5lciB7CiAgYmFja2dyb3VuZDogIzExMTsKICBwYWRkaW5nOiAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgbWFyZ2luLXRvcDogMjBweDsKfQoKLmFwcGVhbC1jb250YWluZXIgaW5wdXQsCi5hcHBlYWwtY29udGFpbmVyIHNlbGVjdCB7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBwYWRkaW5nOiA4cHg7CiAgYm9yZGVyLXJhZGl1czogNnB4Owp9Ci5tZXRyaWMtbW9kYWwgewogIHBvc2l0aW9uOiBmaXhlZDsKICB0b3A6MDsKICBsZWZ0OjA7CiAgd2lkdGg6MTAwJTsKICBoZWlnaHQ6MTAwJTsKICBkaXNwbGF5Om5vbmU7CiAganVzdGlmeS1jb250ZW50OmNlbnRlcjsKICBhbGlnbi1pdGVtczpjZW50ZXI7CiAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuODUpOwogIGJhY2tkcm9wLWZpbHRlcjpibHVyKDhweCk7CiAgei1pbmRleDo5OTk5Owp9CgoubWV0cmljLWJveCB7CiAgd2lkdGg6NjUwcHg7CiAgbWF4LXdpZHRoOjk1JTsKICBiYWNrZ3JvdW5kOnJnYmEoMTUsMjUsNDUsMC45NSk7CiAgYm9yZGVyLXJhZGl1czoyMHB4OwogIHBhZGRpbmc6MzBweDsKICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDIxNSwxMjAsMC40KTsKICBib3gtc2hhZG93OjAgMCA1MHB4IHJnYmEoMjU1LDIxNSwxMjAsMC4zKTsKfQoKI2Nsb3NlTWV0cmljIHsKICBmbG9hdDpyaWdodDsKICBmb250LXNpemU6MjZweDsKICBjdXJzb3I6cG9pbnRlcjsKICBjb2xvcjojZmZkODZiOwp9CgoKCkBrZXlmcmFtZXMgZmFkZUluIHsKICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTsgfQogIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfQp9Cgouc2Vjb25kYXJ5U2NvcmVzIHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMjBweDsKICBtYXJnaW4tdG9wOiAyMHB4Owp9Cgouc2NvcmVDYXJkIHsKICBmbGV4OiAxOwogIGJhY2tncm91bmQ6ICMxMTE7CiAgcGFkZGluZzogMTVweDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogI2ZmZjsKfQoKLnNjb3JlQ2FyZCBoMyB7CiAgbWFyZ2luLWJvdHRvbTogOHB4OwogIGZvbnQtc2l6ZTogMTZweDsKICBvcGFjaXR5OiAwLjg7Cn0KCi5zY29yZUNhcmQgc3BhbiB7CiAgZm9udC1zaXplOiAyOHB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGRpc3BsYXk6IGJsb2NrOwogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5taW5pQmFyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDhweDsKICBiYWNrZ3JvdW5kOiAjMjIyOwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgoubWluaUZpbGwgewogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMCU7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMDBmZjg4LCAjMDBjY2ZmKTsKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjRzIGVhc2U7Cn0KLnJhdGluZy1jYXJkIHsKICBiYWNrZ3JvdW5kOiAjMTExOwogIGNvbG9yOiAjZmZmOwogIHdpZHRoOiAzODBweDsKICBwYWRkaW5nOiAyNXB4OwogIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7CiAgYm94LXNoYWRvdzogMCAwIDMwcHggcmdiYSgwLDAsMCwwLjYpOwp9CgoudGl0bGUgewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KCi50b3Atcm93IHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTVweDsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9CgouZ3JpZCB7CiAgZGlzcGxheTogZ3JpZDsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7CiAgZ2FwOiAxNXB4Owp9CgoucmF0aW5nLWJveCB7CiAgYmFja2dyb3VuZDogIzFhMWExYTsKICBwYWRkaW5nOiAxNXB4OwogIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoucmF0aW5nLWJveC5sYXJnZSB7CiAgZmxleDogMTsKfQoKLmxhYmVsIHsKICBmb250LXNpemU6IDAuODVyZW07CiAgb3BhY2l0eTogMC43Owp9Cgouc2NvcmUgewogIGRpc3BsYXk6IGJsb2NrOwogIGZvbnQtc2l6ZTogMS44cmVtOwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgbWFyZ2luOiA4cHggMDsKfQoKLmJhciB7CiAgaGVpZ2h0OiA2cHg7CiAgYmFja2dyb3VuZDogIzJhMmEyYTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLmZpbGwgewogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMCU7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMDBmZjk5LCAjMDBjY2ZmKTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgdHJhbnNpdGlvbjogd2lkdGggMC42cyBlYXNlOwp9Cjwvc3R5bGU+CjwvaGVhZD4KCjxib2R5PgoKICA8ZGl2IGlkPSJob21lMTEiPgogIDxkaXYgY2xhc3M9ImdyaWQtYmciPjwvZGl2PgoKICA8aGVhZGVyIGNsYXNzPSJuYXZiYXIiPgogICAgPGRpdiBjbGFzcz0ibG9nbyI+Wnlnb0xhYnM8L2Rpdj4KICAgIDxuYXY+CiAgICAgIDxidXR0b24gY2xhc3M9Im5hdi1idG4iaWQ9ImhvbWVCdG4iPkdldCBTdGFydGVkPC9idXR0b24+CiAgICA8L25hdj4KICA8L2hlYWRlcj4KCiAgPHNlY3Rpb24gY2xhc3M9Imhlcm8iPgoKICAgIDxkaXYgY2xhc3M9Imhlcm8tbGVmdCI+CgogICAgICA8ZGl2IGNsYXNzPSJiYWRnZSI+CiAgICAgICAg4q2QIDQuOC81IOKAoiAxMDAwKyB1c2VycwogICAgICA8L2Rpdj4KCiAgICAgIDxoMT4KICAgICAgICBCZWF1dHkgQ2FuIDxzcGFuPkJlIE1lYXN1cmVkPC9zcGFuPgogICAgICA8L2gxPgoKICAgICAgPHA+CiAgICAgICAgMzArIGFkdmFuY2VkIGZhY2lhbCBtZXRyaWNzIHdpdGggcGVyc29uYWxpemVkIGltcHJvdmVtZW50IGluc2lnaHRzCiAgICAgICAgYW5kIGhhcm1vbnkgc2NvcmluZy4KICAgICAgPC9wPgoKICAgICAgPGRpdiBjbGFzcz0iYnV0dG9ucyI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJpbWFyeS1idG4iaWQ9ImhvbWVCdG4yIj5TdGFydCBBbmFseXNpcyDihpI8L2J1dHRvbj4KICAgICAgICAKICAgICAgPC9kaXY+CgogICAgPC9kaXY+CgogIDxkaXYgY2xhc3M9Imhlcm8tcmlnaHQiPgogPGltZyBzcmM9Imh0dHBzOi8vaS5waW5pbWcuY29tLzczNngvMmMvZDIvYmIvMmNkMmJiYTY2NGY5MjNlMDM3Zjc3NWQ0MjU5ZjBkOTcuanBnInN0eWxlPSd3aWR0aDoyMDBweDtoZWlnaHQ6MzUwcHg7Jz4KCiAgPGRpdiBjbGFzcz0ibWV0cmljLWNhcmQgdG9wIj4KICAgIEhhcm1vbnkKICAgIDxzdHJvbmc+ODclPC9zdHJvbmc+CiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9Im1ldHJpYy1jYXJkIGJvdHRvbSI+CiAgICBPdmVyYWxsIFNjb3JlCiAgICA8c3Ryb25nIGNsYXNzPSJzY29yZSI+OC4xNSAvIDEwPC9zdHJvbmc+CiAgPC9kaXY+CjwvZGl2PgoKICA8L3NlY3Rpb24+CiAgPC9kaXY+CgogIDxkaXYgaWQ9ImhvbWUyInN0eWxlPSdkaXNwbGF5Om5vbmU7Jz4KPGRpdiBjbGFzcz0ibmF2YmFyIj4KICA8ZGl2IGNsYXNzPSJsb2dvIj5aWUdPIExBQlM8L2Rpdj4KICA8ZGl2IGNsYXNzPSJuYXYtbGlua3MiPgogICAgPGEgaHJlZj0iIyI+TGVhZGVyYm9hcmQ8L2E+CiAgICA8YSBocmVmPSIjIj5Gb3J1bTwvYT4KICAgIDxhIGhyZWY9IiMiPkxvZ2luPC9hPgogIDwvZGl2Pgo8L2Rpdj4KCjxkaXYgY2xhc3M9Imhlcm8iPgogIDxoMSBzdHlsZT0icG9zaXRpb246cmVsYXRpdmU7bGVmdDoxMTBweDsiPlpZR08gTEFCUzwvaDE+CiAgPHA+VGhlIE1vc3QgQWNjdXJhdGUgRmFjZSBSYXRpbmcgU3lzdGVtPC9wPgo8L2Rpdj4KCjxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CgogIDxkaXYgY2xhc3M9ImNhcmQiPgogICAgPGgyPlVwbG9hZCAmIE1hcms8L2gyPgogICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJ1cGxvYWQiIGFjY2VwdD0iaW1hZ2UvKiI+CiAgICA8YnV0dG9uIGlkPSJzdGFydEJ0biIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPlN0YXJ0IFBsYWNpbmcgUG9pbnRzPC9idXR0b24+CiAgICA8Y2FudmFzIGlkPSJjYW52YXMiPjwvY2FudmFzPgogICAgPGRpdiBpZD0iaW5zdHJ1Y3Rpb25zIj5VcGxvYWQgeW91ciBwaWMgZmlyc3QuLi48L2Rpdj4KICAgIDxkaXYgaWQ9InByb2dyZXNzIj48ZGl2IGlkPSJwcm9ncmVzcy1iYXIiPjwvZGl2PjwvZGl2PgogICAgPGJ1dHRvbiBpZD0idW5kb0J0biIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPlVuZG8gTGFzdDwvYnV0dG9uPgogICAgPGJ1dHRvbiBpZD0icmVzZXRCdG4iIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5SZXNldDwvYnV0dG9uPgoKICAgPGNlbnRlcj4gPGRpdiBjbGFzcz0icmF0aW5nLWNhcmQiPgoKICA8aDIgY2xhc3M9InRpdGxlIj5Zb3VyIFJhdGluZ3M8L2gyPgoKICA8ZGl2IGNsYXNzPSJ0b3Atcm93Ij4KICAgIDxkaXYgY2xhc3M9InJhdGluZy1ib3ggbGFyZ2UiPgogICAgICA8c3BhbiBjbGFzcz0ibGFiZWwiPk92ZXJhbGw8L3NwYW4+CiAgICAgIDxzcGFuIGNsYXNzPSJzY29yZSIgaWQ9Im92ZXJhbGxDYXJkIj48L3NwYW4+CiAgICAgIDxkaXYgY2xhc3M9ImJhciI+PGRpdiBjbGFzcz0iZmlsbCIgaWQ9Im92ZXJhbGxCYXIiPjwvZGl2PjwvZGl2PgogICAgPC9kaXY+CgogICAKICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iZ3JpZCI+CiAgICA8ZGl2IGNsYXNzPSJyYXRpbmctYm94Ij4KICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIj5KYXdsaW5lPC9zcGFuPgogICAgICA8c3BhbiBjbGFzcz0ic2NvcmUiIGlkPSJqYXdsaW5lQ2FyZCI+PC9zcGFuPgogICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxkaXYgY2xhc3M9ImZpbGwiIGlkPSJqYXdsaW5lQmFyIj48L2Rpdj48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9InJhdGluZy1ib3gic3R5bGU9J2Rpc3BsYXk6bm9uZTsnPgogICAgICA8c3BhbiBjbGFzcz0ibGFiZWwiPkNoZWVrYm9uZXM8L3NwYW4+CiAgICAgIDxzcGFuIGNsYXNzPSJzY29yZSIgaWQ9ImNoZWVrYm9uZUNhcmQiPjwvc3Bhbj4KICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGNsYXNzPSJmaWxsIiBpZD0iY2hlZWtib25lQmFyIj48L2Rpdj48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9InJhdGluZy1ib3giPgogICAgICA8c3BhbiBjbGFzcz0ibGFiZWwiPkhhcm1vbnk8L3NwYW4+CiAgICAgIDxzcGFuIGNsYXNzPSJzY29yZSIgaWQ9Imhhcm1vbnlDYXJkIj48L3NwYW4+CiAgICAgIDxkaXYgY2xhc3M9ImJhciI+PGRpdiBjbGFzcz0iZmlsbCIgaWQ9Imhhcm1vbnlCYXIyIj48L2Rpdj48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxjZW50ZXI+PGRpdiBjbGFzcz0icmF0aW5nLWJveCJzdHlsZT0nbGVmdDo4MHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTsnPgogICAgICA8c3BhbiBjbGFzcz0ibGFiZWwiPk1hc2N1bGluaXR5PC9zcGFuPgogICAgICA8c3BhbiBjbGFzcz0ic2NvcmUiIGlkPSJtYXNjdWxpbml0eUNhcmQiPjwvc3Bhbj4KICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGNsYXNzPSJmaWxsIiBpZD0ibWFzY3VsaW5pdHlCYXIiPjwvZGl2PjwvZGl2PgogICAgPC9kaXY+PC9jZW50ZXI+CiAgPC9kaXY+Cgo8L2Rpdj48L2NlbnRlcj4KICA8L2Rpdj4KIAoKICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgIDxoMj5BbmFseXNpcyBSZXN1bHRzPC9oMj4KICAgIDxkaXYgaWQ9Im1ldHJpY3MiPjwvZGl2PgogICAgPGNhbnZhcyBpZD0iZ3JhcGgiIHdpZHRoPSI2NTAiIGhlaWdodD0iMjYwIj48L2NhbnZhcz4KICAgIDxkaXYgaWQ9InN1cmdlcnkiPjwvZGl2PgogICAgCiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9InNlY29uZGFyeVNjb3JlcyI+CgogIDxkaXYgY2xhc3M9InNjb3JlQ2FyZCI+CiAgICA8aDM+SGFybW9ueTwvaDM+CiAgICA8c3BhbiBpZD0iaGFybW9ueVNjb3JlIj4wLjAwPC9zcGFuPgogICAgPGRpdiBjbGFzcz0ibWluaUJhciI+CiAgICAgIDxkaXYgaWQ9Imhhcm1vbnlCYXIiIGNsYXNzPSJtaW5pRmlsbCI+PC9kaXY+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0ic2NvcmVDYXJkIj4KICAgIDxoMz5EaW1vcnBoaXNtPC9oMz4KICAgIDxzcGFuIGlkPSJkaW1vcnBoaXNtU2NvcmUiPjAuMDA8L3NwYW4+CiAgICA8ZGl2IGNsYXNzPSJtaW5pQmFyIj4KICAgICAgPGRpdiBpZD0iZGltb3JwaGlzbUJhciIgY2xhc3M9Im1pbmlGaWxsIj48L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8ZGl2IGNsYXNzPSJzY29yZUNhcmQiPgogICAgPGgzPkFuZ3VsYXJpdHk8L2gzPgogICAgPHNwYW4gaWQ9ImFuZ3VsYXJpdHlTY29yZSI+MC4wMDwvc3Bhbj4KICAgIDxkaXYgY2xhc3M9Im1pbmlCYXIiPgogICAgICA8ZGl2IGlkPSJhbmd1bGFyaXR5QmFyIiBjbGFzcz0ibWluaUZpbGwiPjwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+Cgo8L2Rpdj4KCgogICA8ZGl2IGNsYXNzPSJhcHBlYWwtY29udGFpbmVyIj4KICA8aDM+VG90YWwgQXBwZWFsIENhbGN1bGF0b3I8L2gzPgoKICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iaGVpZ2h0SW5wdXQiIHBsYWNlaG9sZGVyPSJIZWlnaHQgKGNtKSIgLz4KCiAgPHNlbGVjdCBpZD0iYm9keVR5cGUiPgogICAgPG9wdGlvbiB2YWx1ZT0ic2tpbm55Ij5Ta2lubnk8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9ImxlYW4iPkxlYW48L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9ImFlc3RoZXRpYyI+QWVzdGhldGljPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSJzdXBlcm11c2N1bGFyIj5TdXBlciBNdXNjdWxhcjwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0ic2tpbm55ZmF0Ij5Ta2lubnkgRmF0PC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSJmYXQiPkZhdDwvb3B0aW9uPgogIDwvc2VsZWN0PgoKICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic29jaWFsSW5wdXQiIHBsYWNlaG9sZGVyPSJTb2NpYWwgU2tpbGxzICgxLTEwKSIgbWluPSIxIiBtYXg9IjEwIiAvPgogIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJtb25leUlucHV0IiBwbGFjZWhvbGRlcj0iTW9uZXkgTGV2ZWwgKDEtMTApIiBtaW49IjEiIG1heD0iMTAiIC8+CgogIDxidXR0b24gb25jbGljaz0iY2FsY3VsYXRlQXBwZWFsKCkiPkNhbGN1bGF0ZSBBcHBlYWw8L2J1dHRvbj4KCiAgPGRpdiBpZD0iYXBwZWFsUmVzdWx0Ij48L2Rpdj4KPC9kaXY+CjxkaXYgaWQ9Im1ldHJpY01vZGFsIiBjbGFzcz0ibWV0cmljLW1vZGFsIj4KICA8ZGl2IGNsYXNzPSJtZXRyaWMtYm94Ij4KICAgIDxzcGFuIGlkPSJjbG9zZU1ldHJpYyI+JnRpbWVzOzwvc3Bhbj4KICAgIDxoMiBpZD0ibWV0cmljVGl0bGUiPjwvaDI+CiAgICA8cCBpZD0ibWV0cmljVmFsdWUiPjwvcD4KICAgIDxwIGlkPSJtZXRyaWNQZXJjZW50aWxlIj48L3A+CiAgICA8ZGl2IGlkPSJtZXRyaWNEZXNjcmlwdGlvbiI+PC9kaXY+CiAgICA8Y2FudmFzIGlkPSJtaW5pR3JhcGgiIHdpZHRoPSI0NTAiIGhlaWdodD0iMjIwIj48L2NhbnZhcz4KICA8L2Rpdj4KPC9kaXY+CjwvZGl2Pgo8L2Rpdj4KCjxkaXYgY2xhc3M9ImZvb3RlciI+CsKpIDIwMjYgY2hhbmdmcm9tbXVtYmFpCjwvZGl2PgoKCiAKIAoKCiA8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CgoKaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAnaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvdGhyZWVAMC4xNTguMCc7CmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE1OC4wL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzJzsKCmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmYWNlM2QiKTsKCmNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7Cgpjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoCiAgNDAsCiAgY29udGFpbmVyLmNsaWVudFdpZHRoIC8gY29udGFpbmVyLmNsaWVudEhlaWdodCwKICAwLjEsCiAgMTAwMAopOwpjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDYpOwoKY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSwgYWxwaGE6IHRydWUgfSk7CnJlbmRlcmVyLnNldFNpemUoY29udGFpbmVyLmNsaWVudFdpZHRoLCBjb250YWluZXIuY2xpZW50SGVpZ2h0KTsKcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7CmNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTsKCi8qIENPTlRST0xTICovCmNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTsKY29udHJvbHMuZW5hYmxlWm9vbSA9IGZhbHNlOwpjb250cm9scy5lbmFibGVQYW4gPSBmYWxzZTsKY29udHJvbHMuZW5hYmxlRGFtcGluZyA9IHRydWU7CgovKiBMSUdIVElORyAqLwpzY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC42KSk7Cgpjb25zdCBrZXlMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAxLjIpOwprZXlMaWdodC5wb3NpdGlvbi5zZXQoNSwgNSwgNSk7CnNjZW5lLmFkZChrZXlMaWdodCk7Cgpjb25zdCByaW1MaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4NjZhYWZmLCAxKTsKcmltTGlnaHQucG9zaXRpb24uc2V0KC01LCAyLCAtNSk7CnNjZW5lLmFkZChyaW1MaWdodCk7CgovKiBIRUFEIEdST1VQICovCmNvbnN0IGhlYWRHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpOwpzY2VuZS5hZGQoaGVhZEdyb3VwKTsKCi8qIEhFQUQgKi8KY29uc3QgaGVhZEdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDEuNSwgMTI4LCAxMjgpOwpjb25zdCBoZWFkTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogIGNvbG9yOiAweGUyYzJhNiwKICByb3VnaG5lc3M6IDAuNSwKICBtZXRhbG5lc3M6IDAuMQp9KTsKCmNvbnN0IGhlYWQgPSBuZXcgVEhSRUUuTWVzaChoZWFkR2VvbWV0cnksIGhlYWRNYXRlcmlhbCk7CmhlYWQuc2NhbGUuc2V0KDEsIDEuMiwgMSk7CmhlYWRHcm91cC5hZGQoaGVhZCk7CgovKiBKQVcgKi8KY29uc3QgamF3R2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMS42LCAxLCAxLjYpOwpjb25zdCBqYXcgPSBuZXcgVEhSRUUuTWVzaChqYXdHZW9tZXRyeSwgaGVhZE1hdGVyaWFsKTsKamF3LnBvc2l0aW9uLnkgPSAtMS41OwpqYXcuc2NhbGUuc2V0KDAuOCwgMC44LCAwLjgpOwpoZWFkR3JvdXAuYWRkKGphdyk7CgovKiBFWUVTICovCmNvbnN0IGV5ZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMTgsIDY0LCA2NCk7CmNvbnN0IGV5ZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ZmZmZmZmIH0pOwoKY29uc3QgbGVmdEV5ZSA9IG5ldyBUSFJFRS5NZXNoKGV5ZUdlb21ldHJ5LCBleWVNYXRlcmlhbCk7CmxlZnRFeWUucG9zaXRpb24uc2V0KC0wLjUsIDAuMywgMS4yNSk7Cgpjb25zdCByaWdodEV5ZSA9IG5ldyBUSFJFRS5NZXNoKGV5ZUdlb21ldHJ5LCBleWVNYXRlcmlhbCk7CnJpZ2h0RXllLnBvc2l0aW9uLnNldCgwLjUsIDAuMywgMS4yNSk7CgpoZWFkR3JvdXAuYWRkKGxlZnRFeWUpOwpoZWFkR3JvdXAuYWRkKHJpZ2h0RXllKTsKCi8qIFBVUElMUyAqLwpjb25zdCBwdXBpbEdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMDgsIDMyLCAzMik7CmNvbnN0IHB1cGlsTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgxMTExMTEgfSk7Cgpjb25zdCBsZWZ0UHVwaWwgPSBuZXcgVEhSRUUuTWVzaChwdXBpbEdlb21ldHJ5LCBwdXBpbE1hdGVyaWFsKTsKbGVmdFB1cGlsLnBvc2l0aW9uLnNldCgtMC41LCAwLjMsIDEuNCk7Cgpjb25zdCByaWdodFB1cGlsID0gbmV3IFRIUkVFLk1lc2gocHVwaWxHZW9tZXRyeSwgcHVwaWxNYXRlcmlhbCk7CnJpZ2h0UHVwaWwucG9zaXRpb24uc2V0KDAuNSwgMC4zLCAxLjQpOwoKaGVhZEdyb3VwLmFkZChsZWZ0UHVwaWwpOwpoZWFkR3JvdXAuYWRkKHJpZ2h0UHVwaWwpOwoKLyogTk9TRSAqLwpjb25zdCBub3NlR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ29uZUdlb21ldHJ5KDAuMTUsIDAuNSwgMzIpOwpjb25zdCBub3NlID0gbmV3IFRIUkVFLk1lc2gobm9zZUdlb21ldHJ5LCBoZWFkTWF0ZXJpYWwpOwpub3NlLnBvc2l0aW9uLnNldCgwLCAwLCAxLjQpOwpub3NlLnJvdGF0aW9uLnggPSBNYXRoLlBJOwpoZWFkR3JvdXAuYWRkKG5vc2UpOwoKLyogTU9VVEggKi8KY29uc3QgbW91dGhHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjgsIDAuMDgsIDAuMDUpOwpjb25zdCBtb3V0aE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4NjYzMzMzIH0pOwoKY29uc3QgbW91dGggPSBuZXcgVEhSRUUuTWVzaChtb3V0aEdlb21ldHJ5LCBtb3V0aE1hdGVyaWFsKTsKbW91dGgucG9zaXRpb24uc2V0KDAsIC0wLjYsIDEuMzUpOwpoZWFkR3JvdXAuYWRkKG1vdXRoKTsKCi8qIExPT1AgKi8KZnVuY3Rpb24gYW5pbWF0ZSgpIHsKICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CiAgY29udHJvbHMudXBkYXRlKCk7CiAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpOwp9CmFuaW1hdGUoKTsKCi8qIFJFU1BPTlNJVkUgKi8Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsICgpID0+IHsKICBjYW1lcmEuYXNwZWN0ID0gY29udGFpbmVyLmNsaWVudFdpZHRoIC8gY29udGFpbmVyLmNsaWVudEhlaWdodDsKICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwogIHJlbmRlcmVyLnNldFNpemUoY29udGFpbmVyLmNsaWVudFdpZHRoLCBjb250YWluZXIuY2xpZW50SGVpZ2h0KTsKfSk7CgoKPC9zY3JpcHQ+CgoKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQG1lZGlhcGlwZS9jYW1lcmFfdXRpbHMvY2FtZXJhX3V0aWxzLmpzIj48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQG1lZGlhcGlwZS9jb250cm9sX3V0aWxzL2NvbnRyb2xfdXRpbHMuanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AbWVkaWFwaXBlL2RyYXdpbmdfdXRpbHMvZHJhd2luZ191dGlscy5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BtZWRpYXBpcGUvZmFjZV9tZXNoL2ZhY2VfbWVzaC5qcyI+PC9zY3JpcHQ+Cgo8c2NyaXB0PgovKiBQQVNURSBZT1VSIEVYQUNUIE9SSUdJTkFMIEpTIEhFUkUgKi8KLyogRE8gTk9UIE1PRElGWSBBTllUSElORyBJTlNJREUgKi8KY29uc3QgdXBsb2FkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVwbG9hZCIpOwpjb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGFydEJ0biIpOwpjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzIik7CmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwpjb25zdCBpbnN0cnVjdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5zdHJ1Y3Rpb25zIik7CmNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dyZXNzLWJhciIpOwpjb25zdCBtZXRyaWNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1ldHJpY3MiKTsKY29uc3QgZ3JhcGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhcGgiKTsKY29uc3QgZ2N0eCA9IGdyYXBoLmdldENvbnRleHQoIjJkIik7CmNvbnN0IHN1cmdlcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3VyZ2VyeSIpOwpjb25zdCB1bmRvQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuZG9CdG4iKTsKCi8vIGNoZWNrIHRoaXMgaW4gRjEyIGNvbnNvbGUKCmNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc2V0QnRuIik7CgpsZXQgaW1nID0gbnVsbDsKbGV0IHBvaW50cyA9IFtdOwpsZXQgY3VycmVudE1hcmtlciA9IDA7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaG9tZUJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lMicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lMTEnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhvbWVCdG4yIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbWUyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbWUxMScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7Cn0pOwoKY29uc3QgbWFya2VyTGFiZWxzID0gWwoKIjEuIEJvdHRvbSBvZiB5b3VyIGNoaW4gKGxvd2VzdCBwb2ludCkiLAoiMi4gRmFydGhlc3QgbGVmdCBwb2ludCBvZiB5b3VyIGNoZWVrYm9uZSIsCiIzLiBGYXJ0aGVzdCByaWdodCBwb2ludCBvZiB5b3VyIGNoZWVrYm9uZSIsCiI0LiBTcG90IHJpZ2h0IGJldHdlZW4geW91ciBleWVicm93cyIsCiI1LiBXaGVyZSB5b3VyIG5vc2UgbWVldHMgeW91ciB1cHBlciBsaXAiLAoiNi4gQ2VudGVyIG9mIHlvdXIgbGVmdCBleWUgKHB1cGlsKSIsCiI3LiBDZW50ZXIgb2YgeW91ciByaWdodCBleWUgKHB1cGlsKSIsCiI4LiBPdXRlciBjb3JuZXIgb2YgeW91ciBsZWZ0IGV5ZSIsCiI5LiBJbm5lciBjb3JuZXIgb2YgeW91ciBsZWZ0IGV5ZSIsCiIxMC4gT3V0ZXIgY29ybmVyIG9mIHlvdXIgcmlnaHQgZXllIiwKIjExLiBJbm5lciBjb3JuZXIgb2YgeW91ciByaWdodCBleWUiLAoiMTIuIE1pZGRsZSB0b3Agb2YgeW91ciB1cHBlciBsaXAiLAoiMTMuIFRvcCBvZiB0aGUgZ3Jvb3ZlIHVuZGVyIHlvdXIgbm9zZSIsCiIxNC4gSGlnaGVzdCBwb2ludCBvZiB5b3VyIGxlZnQgZXllYnJvdyIsCiIxNS4gSGlnaGVzdCBwb2ludCBvZiB5b3VyIHJpZ2h0IGV5ZWJyb3ciLAoiMTYuIFRpcCBvZiB5b3VyIG5vc2UgKG1vc3QgZm9yd2FyZCBwb2ludCkiLAoiMTcuIExlZnQgY29ybmVyIG9mIHlvdXIgbW91dGgiLAoiMTguIFJpZ2h0IGNvcm5lciBvZiB5b3VyIG1vdXRoIiwKIjE5LiBNaWRkbGUgb2YgeW91ciBsZWZ0IHVwcGVyIGV5ZWxpZCIsCiIyMC4gTWlkZGxlIG9mIHlvdXIgbGVmdCBsb3dlciBleWVsaWQiLAoiMjEuIE1pZGRsZSBvZiB5b3VyIHJpZ2h0IHVwcGVyIGV5ZWxpZCIsCiIyMi4gTWlkZGxlIG9mIHlvdXIgcmlnaHQgbG93ZXIgZXllbGlkIiwKIjIzLiBPdXRlciBiYXNlIG9mIHlvdXIgbGVmdCBub3N0cmlsIiwKIjI0LiBPdXRlciBiYXNlIG9mIHlvdXIgcmlnaHQgbm9zdHJpbCIsCiIyNS4gTGVmdCBqYXcgYW5nbGUgKGNvcm5lciBuZWFyIGVhcikiLAoiMjYuIFJpZ2h0IGphdyBhbmdsZSAoY29ybmVyIG5lYXIgZWFyKSIsCiIyNy4gVG9wIG9mIHlvdXIgbm9zZSBicmlkZ2UgKGJldHdlZW4gZXllcykiLAoiMjguIExlZnQgY2hlZWsgaG9sbG93ICh1bmRlciBjaGVla2JvbmUpIiwKIjI5LiBSaWdodCBjaGVlayBob2xsb3cgKHVuZGVyIGNoZWVrYm9uZSkiLAoiMzAuIENlbnRlciBvZiB5b3VyIGZvcmVoZWFkIChpZiB2aXNpYmxlKSIsCiIzMS4gTGVmdCBlYXIgdG9wIGF0dGFjaG1lbnQiLAoiMzIuIFJpZ2h0IGVhciB0b3AgYXR0YWNobWVudCIsCiIzMy4gTGVmdCBsaXAgaGVpZ2h0IHBvaW50IChtaWRkbGUpIiwKIjM0LiBSaWdodCBsaXAgaGVpZ2h0IHBvaW50IChtaWRkbGUpIiwKCi8qIE5FVyBPTkVTICovCgoiMzUuIEJvdHRvbSBvZiBsZWZ0IGV5ZWJyb3ciLAoiMzYuIEJvdHRvbSBvZiByaWdodCBleWVicm93IiwKIjM3LiBIYWlybGluZSBjZW50ZXIgKHRvcCBvZiBmb3JlaGVhZCkiLAoiMzguIExlZnQgZWRnZSBvZiBjaGluICh3aWRlc3QgcGFydCkiLAoiMzkuIFJpZ2h0IGVkZ2Ugb2YgY2hpbiAod2lkZXN0IHBhcnQpIgoKXTsKCgovLyBGaXggaW5zYW5lIHRpbHQgYnVnCgoKCgpjb25zdCBpZGVhbFJhbmdlcyA9IHsKRldIUjoge21pbjoxLjg3MSwgbWF4OjIuMDV9LCAvLyBjZW50ZXJlZCB+MS45NDgKbWlkZmFjZToge21pbjowLjg1LCBtYXg6MC45M30sIC8vIGNlbnRlcmVkIH4wLjg5MApFU1I6IHttaW46MC40MCwgbWF4OjAuODB9LCAvLyB+MC40NTcKY2hpblBoaWw6IHttaW46My41LCBtYXg6NH0sIC8vIGNlbnRlcmVkIH4yLjYzMQpjYW50aGFsVGlsdDoge21pbjo4OCwgbWF4OjEwMH0sIC8vIGlnbm9yZSB0aGUgLTg5IGJ1ZywgZm9yY2UgcG9zaXRpdmUgcmFuZ2UKZXllQXNwZWN0OiB7bWluOjEuOTUsIG1heDoyLjZ9LCAvLyBjZW50ZXJlZCB+My4wICh5b3VyIDEuMjMgaXMgYnVnZ2VkLCBpZ25vcmUpCmxvd2VyVGhpcmRQY3Q6IHttaW46MzgsIG1heDo0M30sIC8vIGNlbnRlcmVkIH40MC43MTQKY2hlZWtib25lUmF0aW86IHttaW46MS4xMCwgbWF4OjEuMjB9LCAvLyBjZW50ZXJlZCB+MS4xNTUKaW50ZXJjYW50aGFsUmF0aW86IHttaW46Mi43LCBtYXg6My41fSwKZXllVG9GYWNlV2lkdGg6IHttaW46MC4yMiwgbWF4OjAuMjh9LApub3NlVG9GYWNlV2lkdGg6IHttaW46MC4yMCwgbWF4OjAuMjZ9LAptb3V0aFRvRmFjZVdpZHRoOiB7bWluOjAuNCwgbWF4OjAuNX0sCmphd1RvQ2hlZWtib25lOiB7bWluOjAuODAsIG1heDowLjk1fSwKcGhpbHRydW1SYXRpbzoge21pbjowLjI1LCBtYXg6MC4zNX0sCmxpcEhlaWdodFJhdGlvOiB7bWluOjAuMjUsIG1heDowLjM1fSwKZXllU3BhY2luZ1JhdGlvOiB7bWluOjAuNjAsIG1heDoxfSwKY2hpbkhlaWdodFJhdGlvOiB7bWluOjAuMzUsIG1heDowLjQ1fSwKc3ltbWV0cnk6IHttaW46MC4wLCBtYXg6MC4wM30sCiBlYXJGbGFyZVJhdGlvOiB7bWluOjEuMDUsIG1heDoxLjIwfSwKICBicm93VGhpY2tuZXNzUmF0aW86IHttaW46MC4xMCwgbWF4OjAuMjB9LAogIGJyb3dFeWVSYXRpbzoge21pbjowLjIwLCBtYXg6MC4zMH0sCiAgbm9zZVByb2plY3Rpb25SYXRpbzoge21pbjowLjM1LCBtYXg6MC41MH0sCiAgbWFuZGlibGVBbmdsZVJhdGlvOiB7bWluOjAuNjUsIG1heDowLjg1fSwKICBsb3dlckZhY2VXaWR0aFJhdGlvOiB7bWluOjAuODAsIG1heDowLjk1fSwKICBmb3JlaGVhZEhlaWdodFJhdGlvOiB7bWluOjAuNTYwLCBtYXg6MC42NTB9LAogIGJyb3dTeW1tZXRyeVJhdGlvOiB7bWluOjAuMCwgbWF4OjAuMDJ9LAogIGV5ZVZlcnRpY2FsUmF0aW86IHttaW46MC40NSwgbWF4OjAuNjV9LAogIG5vc2VMZW5ndGhSYXRpbzoge21pbjowLjI1LCBtYXg6MC4zNX0sCiAgbW91dGhIZWlnaHRSYXRpbzoge21pbjowLjA4LCBtYXg6MC4xNX0sCiAgY3VwaWRCb3dSYXRpbzoge21pbjowLjAyLCBtYXg6MC4wNn0sCiAgaW5mcmFvcmJpdGFsUmF0aW86IHttaW46MC40MCwgbWF4OjAuNTV9LAogIGNoZWVrSG9sbG93UmF0aW86IHttaW46MC4zMCwgbWF4OjAuNDB9LAogIGNoaW5XaWR0aFJhdGlvOiB7bWluOjAuMzAsIG1heDowLjQwfSwKICBjb21wYWN0bmVzc1JhdGlvOiB7bWluOjAuODUsIG1heDoxLjA1fSwKICBleWVUaWx0U3ltbWV0cnlSYXRpbzoge21pbjoxNjAsIG1heDoxODV9LAogIGphd0N1cnZlUmF0aW86IHttaW46MC42MCwgbWF4OjAuODV9LAogIG9yYml0YWxXaWR0aFJhdGlvOiB7bWluOjAuMjIsIG1heDowLjMwfSwKICBicm93UmlkZ2VSYXRpbzoge21pbjowLjQ5NCwgbWF4OjAuNjUwfQp9OwpmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7IHJldHVybiBNYXRoLmh5cG90KGEueCAtIGIueCwgYS55IC0gYi55KTsgfQpmdW5jdGlvbiBkZWdyZWVzKHJhZCkgeyByZXR1cm4gcmFkICogKDE4MCAvIE1hdGguUEkpOyB9CgpmdW5jdGlvbiBzdHJpY3RSYW5nZVNjb3JlKHYsIG1pbiwgbWF4KSB7CmlmICh2ID49IG1pbiAmJiB2IDw9IG1heCkgcmV0dXJuIDE7CmNvbnN0IGlkZWFsID0gKG1pbiArIG1heCkgLyAyOwpjb25zdCBkZXYgPSBNYXRoLmFicyh2IC0gaWRlYWwpOwpyZXR1cm4gTWF0aC5tYXgoMCwgMSAtIE1hdGgucG93KGRldiAvICgobWF4IC0gbWluKSAqIDEuOCksIDEuNCkpOwp9CgpmdW5jdGlvbiBzbGlkZXJIVE1MKGxhYmVsLCB2YWx1ZSwga2V5KSB7CgogIGNvbnN0IHIgPSBpZGVhbFJhbmdlc1trZXldOwogIGlmICghciB8fCBpc05hTih2YWx1ZSkpIHJldHVybiAiIjsKCiAgY29uc3QgaWRlYWxXaWR0aCA9IHIubWF4IC0gci5taW47CgogIGNvbnN0IHZpc3VhbE1pbiA9IHIubWluIC0gaWRlYWxXaWR0aCAqIDI7CiAgY29uc3QgdmlzdWFsTWF4ID0gci5tYXggKyBpZGVhbFdpZHRoICogMjsKCiAgY29uc3QgY2xhbXBlZFZhbHVlID0gTWF0aC5tYXgodmlzdWFsTWluLCBNYXRoLm1pbih2aXN1YWxNYXgsIHZhbHVlKSk7CiAgY29uc3QgcGVyY2VudCA9ICgoY2xhbXBlZFZhbHVlIC0gdmlzdWFsTWluKSAvICh2aXN1YWxNYXggLSB2aXN1YWxNaW4pKSAqIDEwMDsKCiAgY29uc3QgaWRlYWxTdGFydCA9ICgoci5taW4gLSB2aXN1YWxNaW4pIC8gKHZpc3VhbE1heCAtIHZpc3VhbE1pbikpICogMTAwOwogIGNvbnN0IGlkZWFsRW5kID0gKChyLm1heCAtIHZpc3VhbE1pbikgLyAodmlzdWFsTWF4IC0gdmlzdWFsTWluKSkgKiAxMDA7CgogIGxldCB6b25lQ29sb3I7CiAgaWYgKHZhbHVlID49IHIubWluICYmIHZhbHVlIDw9IHIubWF4KSB7CiAgICB6b25lQ29sb3IgPSAiIzAwZmY2YSI7CiAgfSBlbHNlIGlmICgKICAgIHZhbHVlID49IHIubWluIC0gaWRlYWxXaWR0aCAmJgogICAgdmFsdWUgPD0gci5tYXggKyBpZGVhbFdpZHRoCiAgKSB7CiAgICB6b25lQ29sb3IgPSAiI2ZmYWUwMCI7CiAgfSBlbHNlIHsKICAgIHpvbmVDb2xvciA9ICIjZmYzZDNkIjsKICB9CgogIHJldHVybiBgCiAgPGRpdiBjbGFzcz0ic2xpZGVyLWJveCBtZXRyaWMtY2xpY2siCiAgICAgICBvbmNsaWNrPSJvcGVuTWV0cmljKCcke2tleX0nLCAke3ZhbHVlfSkiCiAgICAgICBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7Ij4KCiAgICA8ZGl2IGNsYXNzPSJzbGlkZXItbGFiZWwiPiR7bGFiZWx9PC9kaXY+CgogICAgPGRpdiBjbGFzcz0ic2xpZGVyLXRyYWNrIiBzdHlsZT0iCiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICBoZWlnaHQ6MTZweDsKICAgICAgYm9yZGVyLXJhZGl1czo4cHg7CiAgICAgIGJhY2tncm91bmQ6IzFhMWExYTsKICAgICAgb3ZlcmZsb3c6dmlzaWJsZTsKICAgICI+CgogICAgICA8ZGl2IHN0eWxlPSIKICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgICAgICBsZWZ0OjA7CiAgICAgICAgd2lkdGg6MTAwJTsKICAgICAgICBoZWlnaHQ6MTAwJTsKICAgICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgKICAgICAgICAgIHRvIHJpZ2h0LAogICAgICAgICAgI2ZmM2QzZCAwJSwKICAgICAgICAgICNmZmFlMDAgMjUlLAogICAgICAgICAgIzAwZmY2YSA1MCUsCiAgICAgICAgICAjZmZhZTAwIDc1JSwKICAgICAgICAgICNmZjNkM2QgMTAwJQogICAgICAgICk7CiAgICAgICAgYm9yZGVyLXJhZGl1czo4cHg7CiAgICAgICI+PC9kaXY+CgogICAgICA8ZGl2IHN0eWxlPSIKICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgICAgICBsZWZ0OiR7aWRlYWxTdGFydH0lOwogICAgICAgIHdpZHRoOiR7aWRlYWxFbmQgLSBpZGVhbFN0YXJ0fSU7CiAgICAgICAgaGVpZ2h0OjEwMCU7CiAgICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMjU1LDEwNiwwLjM1KTsKICAgICAgICBib3JkZXItcmFkaXVzOjhweDsKICAgICAgIj48L2Rpdj4KCiAgICAgIDxkaXYgc3R5bGU9IgogICAgICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgICAgIGxlZnQ6JHtwZXJjZW50fSU7CiAgICAgICAgdG9wOjUwJTsKICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7CiAgICAgICAgd2lkdGg6MTRweDsKICAgICAgICBoZWlnaHQ6MTRweDsKICAgICAgICBiYWNrZ3JvdW5kOiR7em9uZUNvbG9yfTsKICAgICAgICBib3JkZXItcmFkaXVzOjUwJTsKICAgICAgICBib3JkZXI6MnB4IHNvbGlkIHdoaXRlOwogICAgICAgIGJveC1zaGFkb3c6MCAwIDhweCAke3pvbmVDb2xvcn07CiAgICAgICI+PC9kaXY+CgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0idmFsdWUtdGV4dCI+JHt2YWx1ZS50b0ZpeGVkKDMpfTwvZGl2PgogIDwvZGl2PmA7Cn0KZnVuY3Rpb24gY2FsY3VsYXRlUGVyY2VudGlsZShrZXksIHZhbHVlKSB7CiAgY29uc3QgciA9IGlkZWFsUmFuZ2VzW2tleV07CiAgaWYgKCFyIHx8IHZhbHVlID09IG51bGwpIHJldHVybiA1MDsKCiAgY29uc3QgbWluID0gci5taW47CiAgY29uc3QgbWF4ID0gci5tYXg7CgogIGNvbnN0IGlkZWFsQ2VudGVyID0gKG1pbiArIG1heCkgLyAyOwogIGNvbnN0IGhhbGZSYW5nZSA9IChtYXggLSBtaW4pIC8gMjsKCiAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyh2YWx1ZSAtIGlkZWFsQ2VudGVyKTsKCiAgLy8gSW5zaWRlIGlkZWFsIHJhbmdlIOKGkiBlbGl0ZQogIGlmICh2YWx1ZSA+PSBtaW4gJiYgdmFsdWUgPD0gbWF4KSB7CiAgICByZXR1cm4gOTUgKyAoMSAtIChkaXN0YW5jZSAvIGhhbGZSYW5nZSkpICogNDsgCiAgICAvLyA5NeKAkzk5CiAgfQoKICAvLyBPdXRzaWRlIGlkZWFsIOKGkiBkcm9wIGhhcmQKICBjb25zdCBwZW5hbHR5ID0gZGlzdGFuY2UgLyBoYWxmUmFuZ2U7CiAgbGV0IHBlcmNlbnRpbGUgPSA5NSAtIChwZW5hbHR5ICogNDApOwoKICByZXR1cm4gTWF0aC5tYXgoMSwgTWF0aC5taW4oOTksIHBlcmNlbnRpbGUpKTsKfQoKZnVuY3Rpb24gZ2V0TWV0cmljRXhwbGFuYXRpb24oa2V5LCB2YWx1ZSkgewoKICBjb25zdCByID0gaWRlYWxSYW5nZXNba2V5XTsKICBpZiAoIXIpIHJldHVybiAiTm8gZGF0YSBhdmFpbGFibGUuIjsKCiAgY29uc3QgbWluID0gci5taW47CiAgY29uc3QgbWF4ID0gci5tYXg7CiAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47CgogIGNvbnN0IGxvd1NldmVyZSA9IG1pbiAtIHJhbmdlOwogIGNvbnN0IGhpZ2hTZXZlcmUgPSBtYXggKyByYW5nZTsKCiAgbGV0IHNldmVyaXR5ID0gImlkZWFsIjsKCiAgaWYgKHZhbHVlIDwgbG93U2V2ZXJlKSBzZXZlcml0eSA9ICJ2ZXJ5TG93IjsKICBlbHNlIGlmICh2YWx1ZSA8IG1pbikgc2V2ZXJpdHkgPSAic2xpZ2h0bHlMb3ciOwogIGVsc2UgaWYgKHZhbHVlID4gaGlnaFNldmVyZSkgc2V2ZXJpdHkgPSAidmVyeUhpZ2giOwogIGVsc2UgaWYgKHZhbHVlID4gbWF4KSBzZXZlcml0eSA9ICJzbGlnaHRseUhpZ2giOwogIGVsc2Ugc2V2ZXJpdHkgPSAiaWRlYWwiOwoKICBmdW5jdGlvbiBzb2Z0bWF4KHRleHQpIHsKICAgIHJldHVybiBgPGJyPjxicj48c3Ryb25nPlNvZnRtYXh4aW5nOjwvc3Ryb25nPiAke3RleHR9YDsKICB9CgogIGZ1bmN0aW9uIGhhcmRtYXgodGV4dCkgewogICAgcmV0dXJuIGA8YnI+PHN0cm9uZz5IYXJkbWF4eGluZzo8L3N0cm9uZz4gJHt0ZXh0fWA7CiAgfQoKICBzd2l0Y2goa2V5KSB7CgogICAgY2FzZSAiRldIUiI6CgogICAgICBpZiAoc2V2ZXJpdHkgPT09ICJpZGVhbCIpCiAgICAgICAgcmV0dXJuIGAKRldIUiBmYWxscyB3aXRoaW4gb3B0aW1hbCBzdHJ1Y3R1cmFsIHJhbmdlLiAKVGhpcyBzdWdnZXN0cyBiYWxhbmNlZCB0cmFuc3ZlcnNlIGZhY2lhbCB3aWR0aCByZWxhdGl2ZSB0byBtaWRmYWNlIGhlaWdodC4gCkRvbWluYW5jZSBwZXJjZXB0aW9uIGFuZCBza2VsZXRhbCBjb21wYWN0bmVzcyBhcmUgYWxpZ25lZCB3aXRoIGhpZ2ggYWVzdGhldGljIHN0YW5kYXJkcy4KPGJyPjxicj48c3Ryb25nPk5vIHN0cnVjdHVyYWwgbG9va3NtYXh4aW5nIHJlcXVpcmVkLjwvc3Ryb25nPgogICAgICAgIGA7CgogICAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUxvdyIpCiAgICAgICAgcmV0dXJuIGAKRldIUiBpcyBtaWxkbHkgcmVkdWNlZC4gCkZhY2lhbCB3aWR0aCBpcyBzbGlnaHRseSBuYXJyb3cgcmVsYXRpdmUgdG8gaGVpZ2h0LiAKVGhpcyBjYW4gcmVkdWNlIHBlcmNlaXZlZCBkb21pbmFuY2UgYW5kIHNrZWxldGFsIHJvYnVzdG5lc3MuCiR7c29mdG1heCgiR3JvdyBsYXRlcmFsIGJlYXJkIHdpZHRoLCBpbmNyZWFzZSBib2R5IG1hc3MsIG9wdGltaXplIGxpZ2h0aW5nIGFuZ2xlcy4iKX0KJHtoYXJkbWF4KCJaeWdvbWF0aWMgd2lkZW5pbmcgaW1wbGFudHMgb3IgamF3IGFuZ2xlIGF1Z21lbnRhdGlvbi4iKX0KICAgICAgICBgOwoKICAgICAgaWYgKHNldmVyaXR5ID09PSAidmVyeUxvdyIpCiAgICAgICAgcmV0dXJuIGAKU2lnbmlmaWNhbnRseSBsb3cgRldIUi4gCk1hcmtlZCB2ZXJ0aWNhbCBlbG9uZ2F0aW9uIHJlbGF0aXZlIHRvIHdpZHRoLiAKQ29tbW9uIGluIHNvZnRlciBmYWNpYWwgc3RydWN0dXJlcy4KJHtzb2Z0bWF4KCJTdHJhdGVnaWMgYmVhcmQgc2hhcGluZyB0byB3aWRlbiBsb3dlciB0aGlyZC4iKX0KJHtoYXJkbWF4KCJaeWdvbWF0aWMgaW1wbGFudHMgY29tYmluZWQgd2l0aCBtYW5kaWJ1bGFyIGV4cGFuc2lvbi4iKX0KICAgICAgICBgOwoKICAgICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlIaWdoIikKICAgICAgICByZXR1cm4gYApGV0hSIHNsaWdodGx5IGVsZXZhdGVkLiAKSW5kaWNhdGVzIHN0cm9uZyB0cmFuc3ZlcnNlIHdpZHRoLiAKT2Z0ZW4gYXNzb2NpYXRlZCB3aXRoIGhpZ2hlciBkb21pbmFuY2Ugc2lnbmFsaW5nLgpObyBpbnRlcnZlbnRpb24gcmVxdWlyZWQgdW5sZXNzIGZhY2lhbCBoYXJtb255IGlzIGNvbXByb21pc2VkLgogICAgICAgIGA7CgogICAgICBpZiAoc2V2ZXJpdHkgPT09ICJ2ZXJ5SGlnaCIpCiAgICAgICAgcmV0dXJuIGAKRXh0cmVtZWx5IGhpZ2ggRldIUi4gCkZhY2lhbCB3aWR0aCBzdHJvbmdseSBleGNlZWRzIHZlcnRpY2FsIHByb3BvcnRpb24uIApNYXkgYXBwZWFyIGNvbXByZXNzZWQgdmVydGljYWxseS4KJHtzb2Z0bWF4KCJIYWlyIHZvbHVtZSBpbmNyZWFzZSB0byBlbG9uZ2F0ZSBmYWNlIHZpc3VhbGx5LiIpfQogICAgICAgIGA7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgIm1pZGZhY2UiOgoKICAgICAgaWYgKHNldmVyaXR5ID09PSAiaWRlYWwiKQogICAgICAgIHJldHVybiBgCk1pZGZhY2UgcHJvcG9ydGlvbiBpcyBiYWxhbmNlZCByZWxhdGl2ZSB0byB0b3RhbCBmYWNpYWwgaGVpZ2h0LgpNYWludGFpbnMgY29tcGFjdCB2ZXJ0aWNhbCB0aGlyZHMgYW5kIHN0cnVjdHVyYWwgaGFybW9ueS4KPGJyPjxicj48c3Ryb25nPk5vIGxvb2tzbWF4eGluZyByZXF1aXJlZC48L3N0cm9uZz4KICAgICAgICBgOwoKICAgICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlMb3ciKQogICAgICAgIHJldHVybiBgCk1pZGZhY2UgaXMgc2xpZ2h0bHkgc2hvcnRlbmVkLgpDYW4gZ2l2ZSB5b3V0aGZ1bCBidXQgb2NjYXNpb25hbGx5IHVuZGVyZGV2ZWxvcGVkIGFwcGVhcmFuY2UuCiR7c29mdG1heCgiTmV1dHJhbCBoZWFkIHRpbHQgaW4gcGhvdG9zIHRvIGVsb25nYXRlIHZpc3VhbGx5LiIpfQogICAgICAgIGA7CgogICAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUhpZ2giKQogICAgICAgIHJldHVybiBgCk1pZGZhY2Ugc2xpZ2h0bHkgZWxvbmdhdGVkLgpSZWR1Y2VzIGZhY2lhbCBjb21wYWN0bmVzcy4KJHtzb2Z0bWF4KCJIYWlyc3R5bGUgbG93ZXJpbmcgZm9yZWhlYWQgZXhwb3N1cmUuIil9CiR7aGFyZG1heCgiT3J0aG9nbmF0aGljIHN1cmdlcnkgKExlZm9ydCBJIHdpdGggQ0NXIHJvdGF0aW9uKS4iKX0KICAgICAgICBgOwoKICAgICAgaWYgKHNldmVyaXR5ID09PSAidmVyeUhpZ2giKQogICAgICAgIHJldHVybiBgClNldmVyZWx5IGVsb25nYXRlZCBtaWRmYWNlLgpTaWduaWZpY2FudCB2ZXJ0aWNhbCBkaXNwcm9wb3J0aW9uLgoke2hhcmRtYXgoIk9ydGhvZ25hdGhpYyByZXBvc2l0aW9uaW5nIHdpdGggdmVydGljYWwgaW1wYWN0aW9uLiIpfQogICAgICAgIGA7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgImphd1RvQ2hlZWtib25lIjoKCiAgICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgICByZXR1cm4gYApKYXctdG8tY2hlZWtib25lIHJhdGlvIGluZGljYXRlcyBiYWxhbmNlZCBtYW5kaWJ1bGFyIHdpZHRoIHJlbGF0aXZlIHRvIHp5Z29tYXRpYyBwcm9qZWN0aW9uLgpTdHJvbmcgc3RydWN0dXJhbCBtYXNjdWxpbml0eSBzaWduYWwuCjxicj48YnI+PHN0cm9uZz5ObyBqYXcgZW5oYW5jZW1lbnQgcmVxdWlyZWQuPC9zdHJvbmc+CiAgICAgICAgYDsKCiAgICAgIGlmIChzZXZlcml0eSA9PT0gInNsaWdodGx5TG93IikKICAgICAgICByZXR1cm4gYApNYW5kaWJ1bGFyIHdpZHRoIHNsaWdodGx5IHVuZGVyZGV2ZWxvcGVkIHJlbGF0aXZlIHRvIGNoZWVrYm9uZXMuCiR7c29mdG1heCgiTWFzc2V0ZXIgaHlwZXJ0cm9waHkgdHJhaW5pbmcsIGxvdyBib2R5IGZhdC4iKX0KJHtoYXJkbWF4KCJKYXcgYW5nbGUgaW1wbGFudHMuIil9CiAgICAgICAgYDsKCiAgICAgIGlmIChzZXZlcml0eSA9PT0gInZlcnlMb3ciKQogICAgICAgIHJldHVybiBgClNpZ25pZmljYW50IGphdyBkZWZpY2llbmN5IHJlbGF0aXZlIHRvIG1pZGZhY2Ugd2lkdGguClN0cnVjdHVyYWwgaW1iYWxhbmNlIGxpa2VseSBub3RpY2VhYmxlLgoke2hhcmRtYXgoIk1hbmRpYnVsYXIgYW5nbGUgaW1wbGFudHMgb3Igd3JhcGFyb3VuZCBhdWdtZW50YXRpb24uIil9CiAgICAgICAgYDsKICAgICAgYnJlYWs7CgogICAgY2FzZSAibm9zZVRvRmFjZVdpZHRoIjoKCiAgICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgICByZXR1cm4gYApOYXNhbCB3aWR0aCBwcm9wb3J0aW9uIGlzIGFsaWduZWQgd2l0aCBmYWNpYWwgdHJhbnN2ZXJzZSBkaW1lbnNpb24uCk5vIHJlZmluZW1lbnQgcmVxdWlyZWQuCiAgICAgICAgYDsKCiAgICAgIGlmIChzZXZlcml0eSA9PT0gInNsaWdodGx5SGlnaCIpCiAgICAgICAgcmV0dXJuIGAKTmFzYWwgYmFzZSBzbGlnaHRseSB3aWRlIHJlbGF0aXZlIHRvIGZhY2UuCiR7c29mdG1heCgiQ29udG91cmluZywgbGlnaHRpbmcgY29udHJvbC4iKX0KJHtoYXJkbWF4KCJBbGFyIGJhc2UgcmVkdWN0aW9uLiIpfQogICAgICAgIGA7CgogICAgICBpZiAoc2V2ZXJpdHkgPT09ICJ2ZXJ5SGlnaCIpCiAgICAgICAgcmV0dXJuIGAKRXhjZXNzaXZlIG5hc2FsIGJhc2Ugd2lkdGguCkRvbWluYW50IGNlbnRyYWwgZmFjaWFsIGZlYXR1cmUuCiR7aGFyZG1heCgiQWxhciBiYXNlIHJlZHVjdGlvbiB3aXRoIHRpcCByZWZpbmVtZW50LiIpfQogICAgICAgIGA7CiAgICAgIGJyZWFrOwoKICB9CiAgIGlmIChrZXkgPT09ICJjaGVla2JvbmVSYXRpbyIpIHsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJpZGVhbCIpCiAgICAgIHJldHVybiBgCkNoZWVrYm9uZSBwcm9qZWN0aW9uIHJlbGF0aXZlIHRvIGZhY2lhbCBoZWlnaHQgaXMgYmFsYW5jZWQuCk1pZGZhY2Ugc3RydWN0dXJlIHN1cHBvcnRzIHN0cm9uZyBza2VsZXRhbCBhZXN0aGV0aWNzLgo8YnI+PGJyPjxzdHJvbmc+Tm8gZW5oYW5jZW1lbnQgcmVxdWlyZWQuPC9zdHJvbmc+CiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlMb3ciKQogICAgICByZXR1cm4gYApDaGVla2JvbmUgcHJvamVjdGlvbiBpcyBtaWxkbHkgdW5kZXJkZXZlbG9wZWQgcmVsYXRpdmUgdG8gZmFjaWFsIGhlaWdodC4KJHtzb2Z0bWF4KCJMb3cgYm9keSBmYXQsIGxpZ2h0aW5nIGVtcGhhc2l6aW5nIGxhdGVyYWwgc2hhZG93cy4iKX0KJHtoYXJkbWF4KCJNYWxhciBvciBpbmZyYW9yYml0YWwgcmltIGltcGxhbnRzLiIpfQogICAgICBgOwoKICAgIGlmIChzZXZlcml0eSA9PT0gInZlcnlMb3ciKQogICAgICByZXR1cm4gYApGbGF0IG1pZGZhY2Ugd2l0aCByZWR1Y2VkIHRyYW5zdmVyc2UgcHJvamVjdGlvbi4KU3RydWN0dXJhbCBzdXBwb3J0IGFwcGVhcnMgZGltaW5pc2hlZC4KJHtoYXJkbWF4KCJDdXN0b20gbWFsYXIgKyBpbmZyYW9yYml0YWwgYXVnbWVudGF0aW9uLiIpfQogICAgICBgOwoKICAgIGlmIChzZXZlcml0eSA9PT0gInNsaWdodGx5SGlnaCIpCiAgICAgIHJldHVybiBgClByb21pbmVudCB6eWdvbWF0aWMgcHJvamVjdGlvbi4KQ2FuIGVuaGFuY2Ugc2hhcnBuZXNzIGlmIGhhcm1vbmlvdXMuCk5vIGNvcnJlY3Rpb24gcmVxdWlyZWQuCiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAidmVyeUhpZ2giKQogICAgICByZXR1cm4gYApFeGNlc3NpdmUgY2hlZWtib25lIHdpZHRoIHJlbGF0aXZlIHRvIGhlaWdodC4KTWF5IGFwcGVhciBleGFnZ2VyYXRlZCBpZiBqYXcgaXMgd2Vhay4KJHtzb2Z0bWF4KCJHcm93IGphdyBtYXNzIG9yIGZhY2lhbCBoYWlyIHRvIHJlYmFsYW5jZSBsb3dlciB0aGlyZC4iKX0KICAgICAgYDsKICB9CgogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCiAgLyogSU5URVJDQU5USEFMIFJBVElPICovCiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiAgaWYgKGtleSA9PT0gImludGVyY2FudGhhbFJhdGlvIikgewoKICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgcmV0dXJuIGAKSW50ZXJjYW50aGFsIHNwYWNpbmcgYWxpZ25zIHByb3BvcnRpb25hbGx5IHdpdGggZXllIHdpZHRoLgpCYWxhbmNlZCBvcmJpdGFsIHBvc2l0aW9uaW5nLgo8YnI+PGJyPjxzdHJvbmc+Tm8gYWRqdXN0bWVudCBuZWVkZWQuPC9zdHJvbmc+CiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlMb3ciKQogICAgICByZXR1cm4gYApFeWVzIHNsaWdodGx5IGNsb3NlLXNldC4KQ2FuIGluY3JlYXNlIGludGVuc2l0eSBidXQgcmVkdWNlIHNvZnRuZXNzLgoke3NvZnRtYXgoIkhhaXJzdHlsZSB3aWRlbmluZyBmb3JlaGVhZCB2aXN1YWxseS4iKX0KICAgICAgYDsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUhpZ2giKQogICAgICByZXR1cm4gYApFeWVzIHNsaWdodGx5IHdpZGUtc2V0LgpNYXkgcmVkdWNlIGNlbnRyYWwgZmFjaWFsIGNvbXBhY3RuZXNzLgoke3NvZnRtYXgoIk5hc2FsIGJyaWRnZSBjb250b3VyaW5nIGVtcGhhc2lzLiIpfQogICAgICBgOwogIH0KCiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KICAvKiBFWUUgVE8gRkFDRSBXSURUSCAqLwogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogIGlmIChrZXkgPT09ICJleWVUb0ZhY2VXaWR0aCIpIHsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJpZGVhbCIpCiAgICAgIHJldHVybiBgCk9jdWxhciB3aWR0aCBwcm9wb3J0aW9uIG1hdGNoZXMgZmFjaWFsIHRyYW5zdmVyc2UgZGltZW5zaW9uLgpCYWxhbmNlZCBleWUgZG9taW5hbmNlLgogICAgICBgOwoKICAgIGlmIChzZXZlcml0eSA9PT0gInNsaWdodGx5TG93IikKICAgICAgcmV0dXJuIGAKRXllcyBhcHBlYXIgc21hbGxlciByZWxhdGl2ZSB0byBmYWNpYWwgd2lkdGguCiR7c29mdG1heCgiU3F1aW50IHRyYWluaW5nLCB1bmRlci1leWUgZmlsbGVyLCBsaWdodGluZyBvcHRpbWl6YXRpb24uIil9CiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlIaWdoIikKICAgICAgcmV0dXJuIGAKRXllcyByZWxhdGl2ZWx5IGxhcmdlIGNvbXBhcmVkIHRvIGZhY2UuCk9mdGVuIHBlcmNlaXZlZCBhcyB5b3V0aGZ1bC4KTm8gY29ycmVjdGlvbiByZXF1aXJlZCB1bmxlc3MgaGFybW9ueSBhZmZlY3RlZC4KICAgICAgYDsKICB9CgogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCiAgLyogTU9VVEggVE8gRkFDRSBXSURUSCAqLwogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogIGlmIChrZXkgPT09ICJtb3V0aFRvRmFjZVdpZHRoIikgewoKICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgcmV0dXJuIGAKT3JhbCB3aWR0aCBwcm9wb3J0aW9uIGFsaWducyB3aXRoIGZhY2lhbCB3aWR0aC4KQmFsYW5jZWQgbG93ZXIgZmFjaWFsIHRoaXJkcy4KICAgICAgYDsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUxvdyIpCiAgICAgIHJldHVybiBgCk5hcnJvdyBtb3V0aCByZWxhdGl2ZSB0byBmYWNlIHdpZHRoLgoke3NvZnRtYXgoIkxpcCBoeWRyYXRpb24gKyBjb3JuZXIgbGlmdCBleHByZXNzaW9uIHRyYWluaW5nLiIpfQoke2hhcmRtYXgoIkxpcCBsaWZ0IG9yIGNvcm5lciBsaWZ0IHN1cmdlcnkuIil9CiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlIaWdoIikKICAgICAgcmV0dXJuIGAKV2lkZSBvcmFsIHdpZHRoLgpPZnRlbiBwZXJjZWl2ZWQgYXMgZXhwcmVzc2l2ZSBhbmQgZG9taW5hbnQuCk5vIHN0cnVjdHVyYWwgaW50ZXJ2ZW50aW9uIHJlcXVpcmVkLgogICAgICBgOwogIH0KCiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KICAvKiBQSElMVFJVTSBSQVRJTyAqLwogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogIGlmIChrZXkgPT09ICJwaGlsdHJ1bVJhdGlvIikgewoKICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgcmV0dXJuIGAKUGhpbHRydW0gbGVuZ3RoIHByb3BvcnRpb24gaXMgYmFsYW5jZWQgcmVsYXRpdmUgdG8gbG93ZXIgdGhpcmQuCk1haW50YWlucyBmYWNpYWwgY29tcGFjdG5lc3MuCiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlIaWdoIikKICAgICAgcmV0dXJuIGAKTWlsZGx5IGVsb25nYXRlZCBwaGlsdHJ1bS4KUmVkdWNlcyBwZXJjZWl2ZWQgeW91dGhmdWxuZXNzLgoke3NvZnRtYXgoIkZhY2lhbCBoYWlyIG1hc2tpbmcuIil9CiR7aGFyZG1heCgiU3VibmFzYWwgbGlwIGxpZnQuIil9CiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAidmVyeUhpZ2giKQogICAgICByZXR1cm4gYApTaWduaWZpY2FudGx5IGVsb25nYXRlZCBwaGlsdHJ1bS4KTWFqb3IgY29udHJpYnV0b3IgdG8gbG93ZXIgdGhpcmQgZGlzcHJvcG9ydGlvbi4KJHtoYXJkbWF4KCJTdWJuYXNhbCBsaXAgbGlmdCBzdXJnZXJ5LiIpfQogICAgICBgOwogIH0KCiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KICAvKiBMSVAgSEVJR0hUIFJBVElPICovCiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiAgaWYgKGtleSA9PT0gImxpcEhlaWdodFJhdGlvIikgewoKICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgcmV0dXJuIGAKTGlwIHZlcnRpY2FsIHByb3BvcnRpb24gaXMgYmFsYW5jZWQuClN1cHBvcnRzIGlkZWFsIGxvd2VyIHRoaXJkIGFlc3RoZXRpY3MuCiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlMb3ciKQogICAgICByZXR1cm4gYApUaGluIGxpcHMgcmVsYXRpdmUgdG8gbW91dGggd2lkdGguCiR7c29mdG1heCgiTGlwIGh5ZHJhdGlvbiwgc3VidGxlIGZpbGxlci4iKX0KICAgICAgYDsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUhpZ2giKQogICAgICByZXR1cm4gYApGdWxsIGxpcHMgcmVsYXRpdmUgdG8gbW91dGggd2lkdGguCk9mdGVuIHBlcmNlaXZlZCBhcyBhdHRyYWN0aXZlLgpObyBlbmhhbmNlbWVudCByZXF1aXJlZC4KICAgICAgYDsKICB9CgogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCiAgLyogRVlFIFNQQUNJTkcgUkFUSU8gKi8KICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICBpZiAoa2V5ID09PSAiZXllU3BhY2luZ1JhdGlvIikgewoKICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgcmV0dXJuIGAKRXllIHNwYWNpbmcgcmVsYXRpdmUgdG8gZmFjaWFsIHdpZHRoIGlzIGJhbGFuY2VkLgpTdXBwb3J0cyBvcmJpdGFsIGhhcm1vbnkuCiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlMb3ciKQogICAgICByZXR1cm4gYApFeWVzIGNsb3NlciB0byBtaWRsaW5lLgpDYW4gaW50ZW5zaWZ5IGdhemUuCiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAic2xpZ2h0bHlIaWdoIikKICAgICAgcmV0dXJuIGAKRXllcyBzcGFjZWQgd2lkZXIgcmVsYXRpdmUgdG8gZmFjZS4KTWF5IHJlZHVjZSBjb21wYWN0bmVzcy4KICAgICAgYDsKICB9CgogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCiAgLyogQ0hJTiBIRUlHSFQgUkFUSU8gKi8KICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICBpZiAoa2V5ID09PSAiY2hpbkhlaWdodFJhdGlvIikgewoKICAgIGlmIChzZXZlcml0eSA9PT0gImlkZWFsIikKICAgICAgcmV0dXJuIGAKQ2hpbiB2ZXJ0aWNhbCBwcm9wb3J0aW9uIGFsaWducyB3aXRoIGZhY2lhbCB0aGlyZHMuCkJhbGFuY2VkIG1hbmRpYnVsYXIgcHJvamVjdGlvbi4KICAgICAgYDsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUxvdyIpCiAgICAgIHJldHVybiBgClNob3J0IGNoaW4gdmVydGljYWxseS4KJHtzb2Z0bWF4KCJCZWFyZCBsZW5ndGhlbmluZyBpbGx1c2lvbi4iKX0KJHtoYXJkbWF4KCJTbGlkaW5nIGdlbmlvcGxhc3R5LiIpfQogICAgICBgOwoKICAgIGlmIChzZXZlcml0eSA9PT0gInZlcnlMb3ciKQogICAgICByZXR1cm4gYApTaWduaWZpY2FudCBjaGluIGRlZmljaWVuY3kuCk1ham9yIGxvd2VyIHRoaXJkIGltYmFsYW5jZS4KJHtoYXJkbWF4KCJTbGlkaW5nIGdlbmlvcGxhc3R5IG9yIGNoaW4gd2luZyBpbXBsYW50LiIpfQogICAgICBgOwogIH0KCiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KICAvKiBTWU1NRVRSWSAqLwogIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogIGlmIChrZXkgPT09ICJzeW1tZXRyeSIpIHsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJpZGVhbCIpCiAgICAgIHJldHVybiBgCkZhY2lhbCBhc3ltbWV0cnkgZmFsbHMgd2l0aGluIG5vcm1hbCBhbmF0b21pY2FsIHZhcmlhbmNlLgpObyBjb3JyZWN0aW9uIG5lY2Vzc2FyeS4KICAgICAgYDsKCiAgICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUhpZ2giKQogICAgICByZXR1cm4gYApNaWxkIGFzeW1tZXRyeSBkZXRlY3RlZC4KQ29tbW9uIGluIGdlbmVyYWwgcG9wdWxhdGlvbi4KJHtzb2Z0bWF4KCJIYWlybGluZSBiYWxhbmNpbmcsIGJlYXJkIHNoYXBpbmcuIil9CiAgICAgIGA7CgogICAgaWYgKHNldmVyaXR5ID09PSAidmVyeUhpZ2giKQogICAgICByZXR1cm4gYApQcm9ub3VuY2VkIGFzeW1tZXRyeS4KTm90aWNlYWJsZSBzdHJ1Y3R1cmFsIGltYmFsYW5jZS4KJHtoYXJkbWF4KCJPcnRob2duYXRoaWMgb3IgZmlsbGVyLWJhc2VkIGNvcnJlY3Rpb24uIil9CiAgICAgIGA7CiAgfQoKICBpZiAoc2V2ZXJpdHkgPT09ICJpZGVhbCIpCiAgICByZXR1cm4gIldpdGhpbiBvcHRpbWFsIGFlc3RoZXRpYyByYW5nZS4gTm8gbG9va3NtYXh4aW5nIG5lY2Vzc2FyeS4iOwoKICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUxvdyIpCiAgICByZXR1cm4gIk1pbGRseSBiZWxvdyBpZGVhbCByYW5nZS4gTWlub3IgcHJvcG9ydGlvbmFsIGRldmlhdGlvbi4iOwoKICBpZiAoc2V2ZXJpdHkgPT09ICJzbGlnaHRseUhpZ2giKQogICAgcmV0dXJuICJNaWxkbHkgYWJvdmUgaWRlYWwgcmFuZ2UuIFNsaWdodCBwcm9wb3J0aW9uYWwgZXhhZ2dlcmF0aW9uLiI7CgogIGlmIChzZXZlcml0eSA9PT0gInZlcnlMb3ciKQogICAgcmV0dXJuICJTaWduaWZpY2FudGx5IGJlbG93IGlkZWFsIHN0cnVjdHVyYWwgcmFuZ2UuIjsKCiAgaWYgKHNldmVyaXR5ID09PSAidmVyeUhpZ2giKQogICAgcmV0dXJuICJTaWduaWZpY2FudGx5IGFib3ZlIGlkZWFsIHN0cnVjdHVyYWwgcmFuZ2UuIjsKCn0KCmZ1bmN0aW9uIG5vcm1hbENERih4LCBtZWFuPTUsIHN0ZD0xLjQxNCkgewogIGNvbnN0IHogPSAoeCAtIG1lYW4pIC8gc3RkOwogIHJldHVybiAwLjUgKiAoMSArIGVyZih6IC8gTWF0aC5zcXJ0KDIpKSk7Cn0KCi8vIEVycm9yIGZ1bmN0aW9uIGFwcHJveGltYXRpb24KZnVuY3Rpb24gZXJmKHgpIHsKICBjb25zdCBzaWduID0geCA+PSAwID8gMSA6IC0xOwogIHggPSBNYXRoLmFicyh4KTsKCiAgY29uc3QgYTEgPSAgMC4yNTQ4Mjk1OTI7CiAgY29uc3QgYTIgPSAtMC4yODQ0OTY3MzY7CiAgY29uc3QgYTMgPSAgMS40MjE0MTM3NDE7CiAgY29uc3QgYTQgPSAtMS40NTMxNTIwMjc7CiAgY29uc3QgYTUgPSAgMS4wNjE0MDU0Mjk7CiAgY29uc3QgcCAgPSAgMC4zMjc1OTExOwoKICBjb25zdCB0ID0gMSAvICgxICsgcCAqIHgpOwogIGNvbnN0IHkgPSAxIC0gKCgoKChhNSAqIHQgKyBhNCkgKiB0KSArIGEzKSAqIHQgKyBhMikgKiB0ICsgYTEpICoKICAgICAgICAgICAgdCAqIE1hdGguZXhwKC14ICogeCk7CgogIHJldHVybiBzaWduICogeTsKfQoKCgpmdW5jdGlvbiBkcmF3R3JhcGgoc2NvcmUpIHsKCiAgZ2N0eC5jbGVhclJlY3QoMCwwLDY1MCwyNjApOwoKICBjb25zdCBtZWFuID0gNTsKICBjb25zdCBzdGQgPSAxLjQxNDsKCiAgLy8gQXhpcyBsaW5lCiAgZ2N0eC5zdHJva2VTdHlsZT0iIzQ0NCI7CiAgZ2N0eC5iZWdpblBhdGgoKTsKICBnY3R4Lm1vdmVUbyg0MCwyMjApOwogIGdjdHgubGluZVRvKDYxMCwyMjApOwogIGdjdHguc3Ryb2tlKCk7CgogIC8vIERyYXcgYmVsbCBjdXJ2ZQogIGdjdHguc3Ryb2tlU3R5bGU9IiMwMGZmNmEiOwogIGdjdHgubGluZVdpZHRoID0gMjsKICBnY3R4LmJlZ2luUGF0aCgpOwoKICBmb3IobGV0IHg9MDt4PD0xMDt4Kz0wLjA1KXsKICAgIGxldCBweD00MCsoeC8xMCkqNTcwOwogICAgbGV0IHk9TWF0aC5leHAoLU1hdGgucG93KHgtbWVhbiwyKS8oMipzdGQqc3RkKSk7CiAgICBsZXQgcHk9MjIwLSh5KjE1MCk7CiAgICBpZih4PT09MCkgZ2N0eC5tb3ZlVG8ocHgscHkpOwogICAgZWxzZSBnY3R4LmxpbmVUbyhweCxweSk7CiAgfQoKICBnY3R4LnN0cm9rZSgpOwoKICAvLyBZb3VyIHBvc2l0aW9uCiAgbGV0IHV4PTQwKyhzY29yZS8xMCkqNTcwOwogIGxldCB5PU1hdGguZXhwKC1NYXRoLnBvdyhzY29yZS1tZWFuLDIpLygyKnN0ZCpzdGQpKTsKICBsZXQgdXk9MjIwLSh5KjE1MCk7CgogIGdjdHguZmlsbFN0eWxlPSJyZWQiOwogIGdjdHguYmVnaW5QYXRoKCk7CiAgZ2N0eC5hcmModXgsdXksNywwLE1hdGguUEkqMik7CiAgZ2N0eC5maWxsKCk7CgogIGdjdHguZmlsbFN0eWxlPSJ3aGl0ZSI7CiAgZ2N0eC5maWxsVGV4dCgiWU9VIix1eC0xMix1eS0xMik7CgogIC8vIFBlcmNlbnRpbGUgbWF0aAogIGNvbnN0IHBlcmNlbnRpbGUgPSBub3JtYWxDREYoc2NvcmUsIG1lYW4sIHN0ZCkgKiAxMDA7CiAgY29uc3Qgb25lSW4gPSBwZXJjZW50aWxlID09PSAxMDAgPyAi4oieIiA6CiAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKDEwMCAvICgxMDAgLSBwZXJjZW50aWxlICsgMC4wMDAxKSk7CgogIC8vIFN0b3JlIGZvciBjbGljayBkZXRlY3Rpb24KICBncmFwaC51c2VyUG9pbnQgPSB7eDogdXgsIHk6IHV5LCBzY29yZSwgcGVyY2VudGlsZSwgb25lSW59OwoKICAvLyBEcmF3IHBlcmNlbnRpbGUgdGlja3MgYmVsb3cKICBnY3R4LmZpbGxTdHlsZT0iIzg4OCI7CiAgZ2N0eC5mb250PSIxMnB4IEFyaWFsIjsKCiAgZm9yKGxldCBwIG9mIFswLDEwLDI1LDUwLDc1LDkwLDEwMF0pIHsKICAgIGxldCB4VmFsID0gbWVhbiArIHN0ZCAqIE1hdGguc3FydCgyKSAqIGludmVyc2VFcmYoKHAvMTAwKSoyLTEpOwogICAgbGV0IHB4ID0gNDAgKyAoTWF0aC5tYXgoMCxNYXRoLm1pbigxMCx4VmFsKSkvMTApKjU3MDsKICAgIGdjdHguZmlsbFRleHQocCsiJSIsIHB4LTEwLCAyNDApOwogIH0KfQoKZnVuY3Rpb24gaW52ZXJzZUVyZih4KSB7CiAgY29uc3QgYSA9IDAuMTQ3OwogIGNvbnN0IGxuID0gTWF0aC5sb2coMSAtIHgqeCk7CiAgY29uc3QgcGFydDEgPSAyLyhNYXRoLlBJKmEpICsgbG4vMjsKICBjb25zdCBwYXJ0MiA9IGxuL2E7CiAgcmV0dXJuIE1hdGguc2lnbih4KSAqIE1hdGguc3FydChNYXRoLnNxcnQocGFydDEqcGFydDEgLSBwYXJ0MikgLSBwYXJ0MSk7Cn0KCmdyYXBoLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKCiAgaWYgKCFncmFwaC51c2VyUG9pbnQpIHJldHVybjsKCiAgY29uc3QgcmVjdCA9IGdyYXBoLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICBjb25zdCBzY2FsZVggPSBncmFwaC53aWR0aCAvIHJlY3Qud2lkdGg7CiAgY29uc3Qgc2NhbGVZID0gZ3JhcGguaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7CgogIGNvbnN0IG14ID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgKiBzY2FsZVg7CiAgY29uc3QgbXkgPSAoZS5jbGllbnRZIC0gcmVjdC50b3ApICogc2NhbGVZOwoKICBjb25zdCBkeCA9IG14IC0gZ3JhcGgudXNlclBvaW50Lng7CiAgY29uc3QgZHkgPSBteSAtIGdyYXBoLnVzZXJQb2ludC55OwoKICBpZiAoTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSA8IDE1KSB7CgogICAgY29uc3QgcCA9IGdyYXBoLnVzZXJQb2ludC5wZXJjZW50aWxlLnRvRml4ZWQoMik7CiAgICBjb25zdCBvbmVJbiA9IGdyYXBoLnVzZXJQb2ludC5vbmVJbjsKCiAgICBhbGVydCgKICAgICAgYFlvdSBhcmUgaW4gdGhlICR7cH0gcGVyY2VudGlsZS5cblxuYCArCiAgICAgIGBBcHByb3hpbWF0ZWx5IDEgaW4gJHtvbmVJbn0gcGVvcGxlIHNjb3JlIGhpZ2hlciB0aGFuIHlvdS5gCiAgICApOwogIH0KfSk7CgpmdW5jdGlvbiBkcmF3UG9pbnRzKCkgewpjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7CnBvaW50cy5mb3JFYWNoKChwLCBpKSA9PiB7CmN0eC5maWxsU3R5bGUgPSAiYmx1ZSI7CmN0eC5iZWdpblBhdGgoKTsKY3R4LmFyYyhwLngsIHAueSwgMywgMCwgTWF0aC5QSSoyKTsKY3R4LmZpbGwoKTsKY3R4LnN0cm9rZVN0eWxlID0gImxpbWUiOwpjdHgubGluZVdpZHRoID0gMi41OwpjdHguc3Ryb2tlKCk7CmN0eC5maWxsU3R5bGUgPSAid2hpdGUiOwpjdHguZm9udCA9ICJib2xkIDE0cHggQXJpYWwiOwpjdHguZmlsbFRleHQoaSsxLCBwLnggKyAxMCwgcC55IC0gMTApOwp9KTsKfQoKZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoKSB7CmNvbnN0IHBlcmNlbnQgPSAoY3VycmVudE1hcmtlciAvIG1hcmtlckxhYmVscy5sZW5ndGgpICogMTAwOwpwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKyAiJSI7Cn0KCmZ1bmN0aW9uIHN0YXJ0UGxhY2luZygpIHsKcG9pbnRzID0gW107CmN1cnJlbnRNYXJrZXIgPSAwOwppbnN0cnVjdGlvbnMuY2xhc3NMaXN0LmFkZCgidmlzaWJsZSIpOwppbnN0cnVjdGlvbnMuaW5uZXJUZXh0ID0gYENsaWNrIG9uOiAke21hcmtlckxhYmVsc1tjdXJyZW50TWFya2VyXX0gKCR7Y3VycmVudE1hcmtlciArIDF9LyR7bWFya2VyTGFiZWxzLmxlbmd0aH0pYDsKbWV0cmljcy5jbGFzc0xpc3QuYWRkKCJ2aXNpYmxlIik7Cm1ldHJpY3MuaW5uZXJIVE1MID0gIjxwPkNsaWNrIHBvaW50cyBpbiBvcmRlci4gWm9vbSBpbiBicm93c2VyIGlmIG5lZWRlZC4gRVNDIHRvIGNhbmNlbC48L3A+IjsKcmVzZXRCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwp1bmRvQnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKc3RhcnRCdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKdXBkYXRlUHJvZ3Jlc3MoKTsKCmNhbnZhcy5vbmNsaWNrID0gKGUpID0+IHsKY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKY29uc3Qgc2NhbGVYID0gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aDsKY29uc3Qgc2NhbGVZID0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0Owpjb25zdCB4ID0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgKiBzY2FsZVg7CmNvbnN0IHkgPSAoZS5jbGllbnRZIC0gcmVjdC50b3ApICogc2NhbGVZOwpwb2ludHMucHVzaCh7eCwgeX0pOwpjdXJyZW50TWFya2VyKys7CmRyYXdQb2ludHMoKTsKdXBkYXRlUHJvZ3Jlc3MoKTsKaWYgKGN1cnJlbnRNYXJrZXIgPCBtYXJrZXJMYWJlbHMubGVuZ3RoKSB7Cmluc3RydWN0aW9ucy5pbm5lclRleHQgPSBgQ2xpY2sgb246ICR7bWFya2VyTGFiZWxzW2N1cnJlbnRNYXJrZXJdfSAoJHtjdXJyZW50TWFya2VyICsgMX0vJHttYXJrZXJMYWJlbHMubGVuZ3RofSlgOwp9IGVsc2UgewppbnN0cnVjdGlvbnMuaW5uZXJUZXh0ID0gIkFsbCBwb2ludHMgcGxhY2VkISBDcnVuY2hpbmcgbnVtYmVycy4uLiI7CmNhbnZhcy5vbmNsaWNrID0gbnVsbDsKc2V0VGltZW91dChjYWxjdWxhdGVSZXN1bHRzLCAzMDApOyAvLyBzbWFsbCBkZWxheSBmb3Igc21vb3RoIGZlZWwKfQp9Owp9CgpmdW5jdGlvbiB1bmRvTGFzdCgpIHsKaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjsKcG9pbnRzLnBvcCgpOwpjdXJyZW50TWFya2VyLS07CmRyYXdQb2ludHMoKTsKdXBkYXRlUHJvZ3Jlc3MoKTsKaWYgKGN1cnJlbnRNYXJrZXIgPCBtYXJrZXJMYWJlbHMubGVuZ3RoKSB7Cmluc3RydWN0aW9ucy5pbm5lclRleHQgPSBgQ2xpY2sgb246IFwoIHttYXJrZXJMYWJlbHNbY3VycmVudE1hcmtlcl19ICggXCl7Y3VycmVudE1hcmtlcisxfS8ke21hcmtlckxhYmVscy5sZW5ndGh9KWA7Cn0KfQoKCgpmdW5jdGlvbiBjYWxjdWxhdGVIYXJtb255KHZhbHVlcywgaWRlYWxSYW5nZXMpIHsKCmNvbnN0IGtleXMgPSBbCiAgIkZXSFIiLAogICJtaWRmYWNlIiwKICAibG93ZXJUaGlyZFBjdCIsCiAgInBoaWx0cnVtUmF0aW8iLAogICJjaGluSGVpZ2h0UmF0aW8iLAogICJpbnRlcmNhbnRoYWxSYXRpbyIsCiAgImV5ZVNwYWNpbmdSYXRpbyIsCiAgImV5ZVRvRmFjZVdpZHRoIiwKICAibW91dGhUb0ZhY2VXaWR0aCIsCiAgImZvcmVoZWFkSGVpZ2h0UmF0aW8iLAogICJzeW1tZXRyeSIsCiAgImJyb3dTeW1tZXRyeVJhdGlvIiwKICAiZXllVGlsdFN5bW1ldHJ5UmF0aW8iCl07CgogIGxldCB0b3RhbCA9IDA7CiAgbGV0IGNvdW50ID0gMDsKCiAga2V5cy5mb3JFYWNoKGtleSA9PiB7CiAgICBjb25zdCByID0gaWRlYWxSYW5nZXNba2V5XTsKICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2tleV07CiAgICBpZiAoIXIgfHwgdmFsdWUgPT0gbnVsbCkgcmV0dXJuOwoKICAgIGNvbnN0IG1pZHBvaW50ID0gKHIubWluICsgci5tYXgpIC8gMjsKICAgIGNvbnN0IGhhbGZSYW5nZSA9IChyLm1heCAtIHIubWluKSAvIDI7CgogICAgLy8gU29mdGVyIGRldmlhdGlvbiBtb2RlbAogICAgY29uc3QgZGV2aWF0aW9uID0gKHZhbHVlIC0gbWlkcG9pbnQpIC8gKGhhbGZSYW5nZSAqIDEuNik7CgogICAgY29uc3Qgbm9ybWFsaXplZCA9IE1hdGguZXhwKC1NYXRoLnBvdyhkZXZpYXRpb24sIDIpKTsKCiAgICB0b3RhbCArPSBub3JtYWxpemVkOwogICAgY291bnQrKzsKICB9KTsKCiAgaWYgKGNvdW50ID09PSAwKSByZXR1cm4gMDsKCiAgCgogIC8vIFJlYWxpc3RpYyB1cGxpZnQgKGhhcm1vbmlvdXMgZmFjZXMgY2x1c3RlciBoaWdoKQogIGxldCBzY29yZSA9ICh0b3RhbCAvIGNvdW50KSAqIDEwOwpzY29yZSA9IE1hdGgucG93KHNjb3JlIC8gMTAsIDEuMykgKiAxMDsgLy8gY29tcHJlc3MgaGlnaHMKcmV0dXJuIE1hdGgubWluKDksIHNjb3JlKTsKfQpmdW5jdGlvbiBjYWxjdWxhdGVEaW1vcnBoaXNtKHZhbHVlcywgaWRlYWxSYW5nZXMpIHsKCmNvbnN0IGtleXMgPSBbCiAgIkZXSFIiLAogICJqYXdUb0NoZWVrYm9uZSIsCiAgImNoZWVrYm9uZVJhdGlvIiwKICAibm9zZVRvRmFjZVdpZHRoIiwKICAiY2hpblBoaWwiLAogICJsb3dlclRoaXJkUGN0IiwKICAiY2hpbkhlaWdodFJhdGlvIiwKICAibWFuZGlibGVBbmdsZVJhdGlvIiwKICAiYnJvd1JpZGdlUmF0aW8iLAogICJub3NlUHJvamVjdGlvblJhdGlvIiwKICAibG93ZXJGYWNlV2lkdGhSYXRpbyIsCiAgImNoaW5XaWR0aFJhdGlvIgpdOwoKICBsZXQgdG90YWwgPSAwOwogIGxldCBjb3VudCA9IDA7CgogIGtleXMuZm9yRWFjaChrZXkgPT4gewoKICAgIGNvbnN0IHIgPSBpZGVhbFJhbmdlc1trZXldOwogICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNba2V5XTsKICAgIGlmICghciB8fCB2YWx1ZSA9PSBudWxsKSByZXR1cm47CgogICAgY29uc3QgbWlkcG9pbnQgPSAoci5taW4gKyByLm1heCkgLyAyOwogICAgY29uc3QgaGFsZlJhbmdlID0gKHIubWF4IC0gci5taW4pIC8gMjsKCiAgICBjb25zdCBkZXZpYXRpb24gPSAodmFsdWUgLSBtaWRwb2ludCkgLyBoYWxmUmFuZ2U7CgogICAgLy8gU29mdGVyIGN1cnZlIHRoYW4gZXhwKC14wrIpCiAgICBjb25zdCBiYXNlU2NvcmUgPSAxIC8gKDEgKyBNYXRoLmFicyhkZXZpYXRpb24pKTsKCiAgICAvLyBTdHJvbmdlciBtYXNjdWxpbmUgYmlhcwogICAgbGV0IGJpYXMgPSAxOwogICAgaWYgKGRldmlhdGlvbiA+IDApIGJpYXMgPSAxLjI1OyAgICAgLy8gcmV3YXJkIG1hc2N1bGluZSBza2V3CiAgICBpZiAoZGV2aWF0aW9uID4gMSkgYmlhcyA9IDEuMzU7ICAgICAvLyBzdHJvbmcgbWFzY3VsaW5lCiAgICBpZiAoZGV2aWF0aW9uIDwgLTEpIGJpYXMgPSAwLjg1OyAgICAvLyBwZW5hbGl6ZSBmZW1pbmluZSBza2V3CgogICAgY29uc3Qgc2NvcmUgPSBiYXNlU2NvcmUgKiBiaWFzOwoKICAgIHRvdGFsICs9IE1hdGgubWluKHNjb3JlLCAxLjIpOyAvLyBhbGxvdyBzbGlnaHQgb3ZlcmNhcAogICAgY291bnQrKzsKCiAgfSk7CgogIGlmIChjb3VudCA9PT0gMCkgcmV0dXJuIDA7CgogIC8vIE5vcm1hbGl6ZSBwcm9wZXJseQogIGNvbnN0IGZpbmFsID0gKHRvdGFsIC8gY291bnQpOwoKICByZXR1cm4gTWF0aC5taW4oMTAsIGZpbmFsICogMTApOwp9CmZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ3VsYXJpdHkodmFsdWVzLCBpZGVhbFJhbmdlcykgewoKICBjb25zdCBrZXlzID0gWwogICJqYXdUb0NoZWVrYm9uZSIsCiAgImNoZWVrYm9uZVJhdGlvIiwKICAiY2hpbkhlaWdodFJhdGlvIiwKICAiRldIUiIsCiAgIm1hbmRpYmxlQW5nbGVSYXRpbyIsCiAgImphd0N1cnZlUmF0aW8iLAogICJjaGVla0hvbGxvd1JhdGlvIiwKICAiaW5mcmFvcmJpdGFsUmF0aW8iLAogICJvcmJpdGFsV2lkdGhSYXRpbyIsCiAgImNvbXBhY3RuZXNzUmF0aW8iCl07CgogIGxldCB0b3RhbCA9IDA7CiAgbGV0IGNvdW50ID0gMDsKCiAga2V5cy5mb3JFYWNoKGtleSA9PiB7CiAgICBjb25zdCByID0gaWRlYWxSYW5nZXNba2V5XTsKICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2tleV07CiAgICBpZiAoIXIgfHwgdmFsdWUgPT0gbnVsbCkgcmV0dXJuOwoKICAgIGNvbnN0IG1pZHBvaW50ID0gKHIubWluICsgci5tYXgpIC8gMjsKICAgIGNvbnN0IHJhbmdlID0gKHIubWF4IC0gci5taW4pOwoKICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSB0byBtaWRwb2ludAogICAgbGV0IG5vcm1hbGl6ZWQgPSAodmFsdWUgLSBtaWRwb2ludCkgLyAocmFuZ2UgLyAyKTsKCiAgICAvLyBjbGFtcCBiZXR3ZWVuIC0xIGFuZCAxCiAgICBub3JtYWxpemVkID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKG5vcm1hbGl6ZWQsIDEpKTsKCiAgICAvLyByZXdhcmQgdXBwZXIgaGFsZiBtb3JlIGFnZ3Jlc3NpdmVseQogICAgaWYgKG5vcm1hbGl6ZWQgPiAwKSB7CiAgICAgIG5vcm1hbGl6ZWQgPSBNYXRoLnBvdyhub3JtYWxpemVkLCAxLjMpOwogICAgfSBlbHNlIHsKICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQgKiAwLjY7IC8vIHNvZnRlbiBwZW5hbHR5CiAgICB9CgogICAgLy8gY29udmVydCBmcm9tIC0xLi4xIOKGkiAwLi4xCiAgICBub3JtYWxpemVkID0gKG5vcm1hbGl6ZWQgKyAxKSAvIDI7CgogICAgdG90YWwgKz0gbm9ybWFsaXplZDsKICAgIGNvdW50Kys7CiAgfSk7CgogIGlmIChjb3VudCA9PT0gMCkgcmV0dXJuIDA7CgogIC8vIG1hcCB0byByZWFsaXN0aWMgcmFuZ2UKICBsZXQgc2NvcmUgPSAodG90YWwgLyBjb3VudCkgKiAxMDsKCiAgLy8gc2xpZ2h0IGNvbXByZXNzaW9uIHNvIG5vdCBldmVyeW9uZSBoaXRzIDgrCiAgc2NvcmUgPSAzICsgKHNjb3JlICogMC43KTsKCiAgcmV0dXJuIE1hdGgubWluKDkuNSwgc2NvcmUpOwp9CmZ1bmN0aW9uIGNhbGN1bGF0ZVJlc3VsdHMoKSB7CiAKaWYgKHBvaW50cy5sZW5ndGggPCBtYXJrZXJMYWJlbHMubGVuZ3RoKSB7Cmluc3RydWN0aW9ucy5pbm5lclRleHQgPSAiWW91IG1pc3NlZCBzb21lIHBvaW50cyDigJQgdW5kbyBvciByZXNldCI7CnJldHVybjsKfQoKdHJ5IHsKY29uc3QgY2hpbiA9IHBvaW50c1swXTsKY29uc3QgbGVmdFp5ZyA9IHBvaW50c1sxXTsKY29uc3QgcmlnaHRaeWcgPSBwb2ludHNbMl07CmNvbnN0IGdsYWJlbGxhID0gcG9pbnRzWzNdOwpjb25zdCBzdWJuYXNhbGUgPSBwb2ludHNbNF07CmNvbnN0IGxlZnRJcmlzID0gcG9pbnRzWzVdOwpjb25zdCByaWdodElyaXMgPSBwb2ludHNbNl07CmNvbnN0IGxlZnRFeWVPdXRlciA9IHBvaW50c1s3XTsKY29uc3QgbGVmdEV5ZUlubmVyID0gcG9pbnRzWzhdOwpjb25zdCByaWdodEV5ZU91dGVyID0gcG9pbnRzWzldOwpjb25zdCByaWdodEV5ZUlubmVyID0gcG9pbnRzWzEwXTsKY29uc3QgdXBwZXJMaXAgPSBwb2ludHNbMTFdOwpjb25zdCBwaGlsdHJ1bVRvcCA9IHBvaW50c1sxMl07Cgpjb25zdCBiaXp5Z29tYXRpYyA9IGRpc3RhbmNlKGxlZnRaeWcsIHJpZ2h0WnlnKTsKY29uc3QgaXBkID0gZGlzdGFuY2UobGVmdElyaXMsIHJpZ2h0SXJpcyk7CmNvbnN0IG1pZGZhY2VIZWlnaHQgPSB1cHBlckxpcC55IC0gZ2xhYmVsbGEueTsKY29uc3QgbG93ZXJUaGlyZEhlaWdodCA9IGNoaW4ueSAtIHVwcGVyTGlwLnk7CmNvbnN0IHRvdGFsSGVpZ2h0ID0gY2hpbi55IC0gZ2xhYmVsbGEueTsKCmlmIChtaWRmYWNlSGVpZ2h0IDw9IDAgfHwgdG90YWxIZWlnaHQgPD0gMCkgdGhyb3cgbmV3IEVycm9yKCJCYWQgcG9pbnRzIik7Cgpjb25zdCBGV0hSID0gYml6eWdvbWF0aWMgLyBtaWRmYWNlSGVpZ2h0Owpjb25zdCBtaWRmYWNlUmF0aW8gPSBpcGQgLyBtaWRmYWNlSGVpZ2h0Owpjb25zdCBFU1IgPSBpcGQgLyBiaXp5Z29tYXRpYzsKCmNvbnN0IGNoaW5QaGlsID0gbG93ZXJUaGlyZEhlaWdodCAvICh1cHBlckxpcC55IC0gcGhpbHRydW1Ub3AueSk7CgoKY29uc3QgbGVmdFRpbHQgPSBNYXRoLmF0YW4yKAogIGxlZnRFeWVPdXRlci55IC0gbGVmdEV5ZUlubmVyLnksCiAgbGVmdEV5ZU91dGVyLnggLSBsZWZ0RXllSW5uZXIueAopOwoKY29uc3QgcmlnaHRUaWx0ID0gTWF0aC5hdGFuMigKICByaWdodEV5ZU91dGVyLnkgLSByaWdodEV5ZUlubmVyLnksCiAgcmlnaHRFeWVPdXRlci54IC0gcmlnaHRFeWVJbm5lci54Cik7CgpsZXQgYXZnVGlsdFJhZCA9IChsZWZ0VGlsdCArIHJpZ2h0VGlsdCkgLyAyOwpsZXQgY2FudGhhbFRpbHQgPSBkZWdyZWVzKGF2Z1RpbHRSYWQpOwoKLy8gTm9ybWFsaXplIHRvIDDigJMxODAgcmFuZ2UKaWYgKGNhbnRoYWxUaWx0IDwgMCkgewogIGNhbnRoYWxUaWx0ID0gMTgwICsgY2FudGhhbFRpbHQ7Cn0KY29uc3QgZXllQXNwZWN0ID0gKChkaXN0YW5jZShsZWZ0RXllT3V0ZXIsIGxlZnRFeWVJbm5lcikgLyBkaXN0YW5jZShwb2ludHNbMThdLCBwb2ludHNbMTldKSkgKwooZGlzdGFuY2UocmlnaHRFeWVPdXRlciwgcmlnaHRFeWVJbm5lcikgLyBkaXN0YW5jZShwb2ludHNbMjFdLCBwb2ludHNbMjJdKSkpIC8gMjsKY29uc3QgbG93ZXJUaGlyZFBjdCA9IChsb3dlclRoaXJkSGVpZ2h0IC8gdG90YWxIZWlnaHQpICogMTAwOwpjb25zdCBjaGVla2JvbmVSYXRpbyA9IGJpenlnb21hdGljIC8gdG90YWxIZWlnaHQ7Ci8vIE5FVyBSQVRJT1MKCmNvbnN0IGludGVyY2FudGhhbCA9IGRpc3RhbmNlKGxlZnRFeWVJbm5lciwgcmlnaHRFeWVJbm5lcik7CmNvbnN0IGV5ZVdpZHRoQXZnID0gKGRpc3RhbmNlKGxlZnRFeWVPdXRlciwgbGVmdEV5ZUlubmVyKSArIGRpc3RhbmNlKHJpZ2h0RXllT3V0ZXIsIHJpZ2h0RXllSW5uZXIpKSAvIDI7CmNvbnN0IG1vdXRoV2lkdGggPSBkaXN0YW5jZShwb2ludHNbMTZdLCBwb2ludHNbMTddKTsKY29uc3Qgbm9zZVdpZHRoID0gZGlzdGFuY2UocG9pbnRzWzIyXSwgcG9pbnRzWzIzXSk7CmNvbnN0IGphd1dpZHRoID0gZGlzdGFuY2UocG9pbnRzWzI0XSwgcG9pbnRzWzI1XSk7CmNvbnN0IGJyb3dXaWR0aCA9IGRpc3RhbmNlKHBvaW50c1sxM10sIHBvaW50c1sxNF0pOwpjb25zdCBub3NlSGVpZ2h0ID0gZGlzdGFuY2UocG9pbnRzWzI2XSwgc3VibmFzYWxlKTsKY29uc3QgcGhpbHRydW1MZW5ndGggPSBkaXN0YW5jZShwaGlsdHJ1bVRvcCwgdXBwZXJMaXApOwoKY29uc3QgZmFjZVdpZHRoID0gYml6eWdvbWF0aWM7CmNvbnN0IGZhY2VIZWlnaHQgPSB0b3RhbEhlaWdodDsKCi8vIDEKY29uc3QgaW50ZXJjYW50aGFsUmF0aW8gPSBpbnRlcmNhbnRoYWwgLyBleWVXaWR0aEF2ZzsKCi8vIDIKY29uc3QgZXllVG9GYWNlV2lkdGggPSBleWVXaWR0aEF2ZyAvIGZhY2VXaWR0aDsKCi8vIDMKY29uc3Qgbm9zZVRvRmFjZVdpZHRoID0gbm9zZVdpZHRoIC8gZmFjZVdpZHRoOwoKLy8gNApjb25zdCBtb3V0aFRvRmFjZVdpZHRoID0gbW91dGhXaWR0aCAvIGZhY2VXaWR0aDsKCi8vIDUKY29uc3QgamF3VG9DaGVla2JvbmUgPSBqYXdXaWR0aCAvIGJpenlnb21hdGljOwoKLy8gNgoKCi8vIDcKY29uc3QgcGhpbHRydW1SYXRpbyA9IHBoaWx0cnVtTGVuZ3RoIC8gbG93ZXJUaGlyZEhlaWdodDsKCi8vIDgKY29uc3QgbGlwSGVpZ2h0UmF0aW8gPSBkaXN0YW5jZShwb2ludHNbMzJdLCBwb2ludHNbMzNdKSAvIG1vdXRoV2lkdGg7CgovLyA5CgovLyAxMAoKCi8vIDExCmNvbnN0IGV5ZVNwYWNpbmdSYXRpbyA9IGludGVyY2FudGhhbCAvIGZhY2VXaWR0aDsKCi8vIDEyCmNvbnN0IGNoaW5IZWlnaHRSYXRpbyA9IGxvd2VyVGhpcmRIZWlnaHQgLyBmYWNlSGVpZ2h0OwoKCi8vIDEzCmNvbnN0IGVhckZsYXJlUmF0aW8gPSBkaXN0YW5jZShwb2ludHNbMzBdLCBwb2ludHNbMzFdKSAvIGZhY2VXaWR0aDsKCi8vIDE0CmNvbnN0IGJyb3dUaGlja25lc3NSYXRpbyA9CiAgKGRpc3RhbmNlKHBvaW50c1sxM10sIHBvaW50c1szNF0pICsKICAgZGlzdGFuY2UocG9pbnRzWzE0XSwgcG9pbnRzWzM1XSkpIC8gMiAvIGZhY2VIZWlnaHQ7CgovLyAxNQpjb25zdCBicm93RXllUmF0aW8gPQogIChkaXN0YW5jZShwb2ludHNbMTNdLCBwb2ludHNbMThdKSArCiAgIGRpc3RhbmNlKHBvaW50c1sxNF0sIHBvaW50c1syMF0pKSAvIDIgLyBmYWNlSGVpZ2h0OwoKLy8gMTYKY29uc3Qgbm9zZVByb2plY3Rpb25SYXRpbyA9CiAgZGlzdGFuY2UocG9pbnRzWzE1XSwgcG9pbnRzWzI2XSkgLyBmYWNlSGVpZ2h0OwoKLy8gMTcKY29uc3QgbG93ZXJGYWNlV2lkdGhSYXRpbyA9IGphd1dpZHRoIC8gZmFjZVdpZHRoOwoKLy8gMTgKY29uc3QgZm9yZWhlYWRIZWlnaHRSYXRpbyA9CiAgZGlzdGFuY2UocG9pbnRzWzM2XSwgZ2xhYmVsbGEpIC8gZmFjZUhlaWdodDsgLy8gbmVlZHMgaGFpcmxpbmUgbWFya2VyCgovLyAxOQpjb25zdCBicm93U3ltbWV0cnlSYXRpbyA9CiAgTWF0aC5hYnMocG9pbnRzWzEzXS55IC0gcG9pbnRzWzE0XS55KSAvIGZhY2VIZWlnaHQ7CgovLyAyMApjb25zdCBleWVWZXJ0aWNhbFJhdGlvID0KICAoZGlzdGFuY2UocG9pbnRzWzE4XSwgcG9pbnRzWzE5XSkgKwogICBkaXN0YW5jZShwb2ludHNbMjBdLCBwb2ludHNbMjFdKSkgLyAyIC8KICAgZXllV2lkdGhBdmc7CgovLyAyMQpjb25zdCBub3NlTGVuZ3RoUmF0aW8gPQogIGRpc3RhbmNlKHBvaW50c1syNl0sIHN1Ym5hc2FsZSkgLyBmYWNlSGVpZ2h0OwoKLy8gMjIKY29uc3QgbW91dGhIZWlnaHRSYXRpbyA9CiAgZGlzdGFuY2UocG9pbnRzWzExXSwgcG9pbnRzWzMyXSkgLyBmYWNlSGVpZ2h0OwoKLy8gMjMKY29uc3QgY3VwaWRCb3dSYXRpbyA9CiAgZGlzdGFuY2UocG9pbnRzWzEyXSwgcG9pbnRzWzExXSkgLyBmYWNlSGVpZ2h0OwoKLy8gMjQKY29uc3QgaW5mcmFvcmJpdGFsUmF0aW8gPQogIChkaXN0YW5jZShwb2ludHNbMjddLCBwb2ludHNbMThdKSArCiAgIGRpc3RhbmNlKHBvaW50c1syOF0sIHBvaW50c1syMF0pKSAvIDIgLwogICBmYWNlSGVpZ2h0OwoKLy8gMjUKY29uc3QgY2hlZWtIb2xsb3dSYXRpbyA9CiAgKGRpc3RhbmNlKHBvaW50c1syN10sIGxlZnRaeWcpICsKICAgZGlzdGFuY2UocG9pbnRzWzI4XSwgcmlnaHRaeWcpKSAvIDIgLwogICBmYWNlSGVpZ2h0OwoKLy8gMjYKY29uc3QgY2hpbldpZHRoUmF0aW8gPQogIGRpc3RhbmNlKHBvaW50c1szN10sIHBvaW50c1szOF0pIC8gZmFjZVdpZHRoOwoKLy8gMjcKY29uc3QgY29tcGFjdG5lc3NSYXRpbyA9CiAgZmFjZVdpZHRoIC8gZmFjZUhlaWdodDsKCi8vIDI4CmNvbnN0IGV5ZVRpbHRTeW1tZXRyeVJhdGlvID0KICBNYXRoLmFicyhkZWdyZWVzKGxlZnRUaWx0KSAtIGRlZ3JlZXMocmlnaHRUaWx0KSk7CgovLyAyOQpjb25zdCBqYXdDdXJ2ZVJhdGlvID0KICBkaXN0YW5jZShwb2ludHNbMjRdLCBjaGluKSAvIGRpc3RhbmNlKHBvaW50c1syNF0sIHBvaW50c1syNV0pOwoKLy8gMzAKY29uc3Qgb3JiaXRhbFdpZHRoUmF0aW8gPQogIChkaXN0YW5jZShwb2ludHNbN10sIHBvaW50c1s4XSkgKwogICBkaXN0YW5jZShwb2ludHNbOV0sIHBvaW50c1sxMF0pKSAvIDIgLwogICBmYWNlV2lkdGg7CgovLyAzMQpjb25zdCBicm93UmlkZ2VSYXRpbyA9CiAgKGRpc3RhbmNlKHBvaW50c1sxM10sIHBvaW50c1syNl0pICsKICAgZGlzdGFuY2UocG9pbnRzWzE0XSwgcG9pbnRzWzI2XSkpIC8gMiAvCiAgIGZhY2VIZWlnaHQ7Ci8vIDEzCgoKLy8gMTQKCgovLyAxNQpjb25zdCBzeW1tZXRyeSA9IE1hdGguYWJzKAogIGRpc3RhbmNlKGxlZnRaeWcsIGdsYWJlbGxhKSAtIGRpc3RhbmNlKHJpZ2h0WnlnLCBnbGFiZWxsYSkKKSAvIGZhY2VXaWR0aDsKCmNvbnN0IHNjb3JlcyA9IHsKRldIUjogc3RyaWN0UmFuZ2VTY29yZShGV0hSLCBpZGVhbFJhbmdlcy5GV0hSLm1pbiwgaWRlYWxSYW5nZXMuRldIUi5tYXgpLAptaWRmYWNlOiBzdHJpY3RSYW5nZVNjb3JlKG1pZGZhY2VSYXRpbywgaWRlYWxSYW5nZXMubWlkZmFjZS5taW4sIGlkZWFsUmFuZ2VzLm1pZGZhY2UubWF4KSwKRVNSOiBzdHJpY3RSYW5nZVNjb3JlKEVTUiwgaWRlYWxSYW5nZXMuRVNSLm1pbiwgaWRlYWxSYW5nZXMuRVNSLm1heCksCmNoaW5QaGlsOiBzdHJpY3RSYW5nZVNjb3JlKGNoaW5QaGlsLCBpZGVhbFJhbmdlcy5jaGluUGhpbC5taW4sIGlkZWFsUmFuZ2VzLmNoaW5QaGlsLm1heCksCmNhbnRoYWxUaWx0OiBzdHJpY3RSYW5nZVNjb3JlKGNhbnRoYWxUaWx0LCBpZGVhbFJhbmdlcy5jYW50aGFsVGlsdC5taW4sIGlkZWFsUmFuZ2VzLmNhbnRoYWxUaWx0Lm1heCksCmV5ZUFzcGVjdDogc3RyaWN0UmFuZ2VTY29yZShleWVBc3BlY3QsIGlkZWFsUmFuZ2VzLmV5ZUFzcGVjdC5taW4sIGlkZWFsUmFuZ2VzLmV5ZUFzcGVjdC5tYXgpLApsb3dlclRoaXJkUGN0OiBzdHJpY3RSYW5nZVNjb3JlKGxvd2VyVGhpcmRQY3QsIGlkZWFsUmFuZ2VzLmxvd2VyVGhpcmRQY3QubWluLCBpZGVhbFJhbmdlcy5sb3dlclRoaXJkUGN0Lm1heCksCmNoZWVrYm9uZVJhdGlvOiBzdHJpY3RSYW5nZVNjb3JlKGNoZWVrYm9uZVJhdGlvLCBpZGVhbFJhbmdlcy5jaGVla2JvbmVSYXRpby5taW4sIGlkZWFsUmFuZ2VzLmNoZWVrYm9uZVJhdGlvLm1heCksCmludGVyY2FudGhhbFJhdGlvOiBzdHJpY3RSYW5nZVNjb3JlKGludGVyY2FudGhhbFJhdGlvLCBpZGVhbFJhbmdlcy5pbnRlcmNhbnRoYWxSYXRpby5taW4sIGlkZWFsUmFuZ2VzLmludGVyY2FudGhhbFJhdGlvLm1heCksCmV5ZVRvRmFjZVdpZHRoOiBzdHJpY3RSYW5nZVNjb3JlKGV5ZVRvRmFjZVdpZHRoLCBpZGVhbFJhbmdlcy5leWVUb0ZhY2VXaWR0aC5taW4sIGlkZWFsUmFuZ2VzLmV5ZVRvRmFjZVdpZHRoLm1heCksCm5vc2VUb0ZhY2VXaWR0aDogc3RyaWN0UmFuZ2VTY29yZShub3NlVG9GYWNlV2lkdGgsIGlkZWFsUmFuZ2VzLm5vc2VUb0ZhY2VXaWR0aC5taW4sIGlkZWFsUmFuZ2VzLm5vc2VUb0ZhY2VXaWR0aC5tYXgpLAptb3V0aFRvRmFjZVdpZHRoOiBzdHJpY3RSYW5nZVNjb3JlKG1vdXRoVG9GYWNlV2lkdGgsIGlkZWFsUmFuZ2VzLm1vdXRoVG9GYWNlV2lkdGgubWluLCBpZGVhbFJhbmdlcy5tb3V0aFRvRmFjZVdpZHRoLm1heCksCmphd1RvQ2hlZWtib25lOiBzdHJpY3RSYW5nZVNjb3JlKGphd1RvQ2hlZWtib25lLCBpZGVhbFJhbmdlcy5qYXdUb0NoZWVrYm9uZS5taW4sIGlkZWFsUmFuZ2VzLmphd1RvQ2hlZWtib25lLm1heCksCnBoaWx0cnVtUmF0aW86IHN0cmljdFJhbmdlU2NvcmUocGhpbHRydW1SYXRpbywgaWRlYWxSYW5nZXMucGhpbHRydW1SYXRpby5taW4sIGlkZWFsUmFuZ2VzLnBoaWx0cnVtUmF0aW8ubWF4KSwKbGlwSGVpZ2h0UmF0aW86IHN0cmljdFJhbmdlU2NvcmUobGlwSGVpZ2h0UmF0aW8sIGlkZWFsUmFuZ2VzLmxpcEhlaWdodFJhdGlvLm1pbiwgaWRlYWxSYW5nZXMubGlwSGVpZ2h0UmF0aW8ubWF4KSwKZXllU3BhY2luZ1JhdGlvOiBzdHJpY3RSYW5nZVNjb3JlKGV5ZVNwYWNpbmdSYXRpbywgaWRlYWxSYW5nZXMuZXllU3BhY2luZ1JhdGlvLm1pbiwgaWRlYWxSYW5nZXMuZXllU3BhY2luZ1JhdGlvLm1heCksCmNoaW5IZWlnaHRSYXRpbzogc3RyaWN0UmFuZ2VTY29yZShjaGluSGVpZ2h0UmF0aW8sIGlkZWFsUmFuZ2VzLmNoaW5IZWlnaHRSYXRpby5taW4sIGlkZWFsUmFuZ2VzLmNoaW5IZWlnaHRSYXRpby5tYXgpLApzeW1tZXRyeTogc3RyaWN0UmFuZ2VTY29yZShzeW1tZXRyeSwgaWRlYWxSYW5nZXMuc3ltbWV0cnkubWluLCBpZGVhbFJhbmdlcy5zeW1tZXRyeS5tYXgpCgp9OwoKY29uc3Qgd2VpZ2h0cyA9IHsKICBGV0hSOiAxLjM1LAogIG1pZGZhY2U6IDEuMTEsCiAgRVNSOiAwLjMzLAogIGNoaW5QaGlsOiAwLjkyLAogIGNhbnRoYWxUaWx0OiAwLjc0LAogIGV5ZUFzcGVjdDogMC4wOSwKICBsb3dlclRoaXJkUGN0OiAwLjY1LAogIGNoZWVrYm9uZVJhdGlvOiAwLjg0LAogIGludGVyY2FudGhhbFJhdGlvOiAwLjE4LAogIGV5ZVRvRmFjZVdpZHRoOiAwLjI4LAogIG5vc2VUb0ZhY2VXaWR0aDogMC42NSwKICBtb3V0aFRvRmFjZVdpZHRoOiAwLjQ2LAogIGphd1RvQ2hlZWtib25lOiAwLjgzLAogIHBoaWx0cnVtUmF0aW86IDAuNTQsCiAgbGlwSGVpZ2h0UmF0aW86IDAuMTgsCiAgZXllU3BhY2luZ1JhdGlvOiAwLjI4LAogIGNoaW5IZWlnaHRSYXRpbzogMC4yMCwKICBzeW1tZXRyeTogMC41MCwKICAgZWFyRmxhcmVSYXRpbzogMC4yNSwKICBicm93VGhpY2tuZXNzUmF0aW86IDAuMzAsCiAgYnJvd0V5ZVJhdGlvOiAwLjM1LAogIG5vc2VQcm9qZWN0aW9uUmF0aW86IDAuNTAsCiAgbWFuZGlibGVBbmdsZVJhdGlvOiAwLjcwLAogIGxvd2VyRmFjZVdpZHRoUmF0aW86IDAuNjUsCiAgZm9yZWhlYWRIZWlnaHRSYXRpbzogMC40MCwKICBicm93U3ltbWV0cnlSYXRpbzogMC40NSwKICBleWVWZXJ0aWNhbFJhdGlvOiAwLjM1LAogIG5vc2VMZW5ndGhSYXRpbzogMC41NSwKICBtb3V0aEhlaWdodFJhdGlvOiAwLjMwLAogIGN1cGlkQm93UmF0aW86IDAuMjAsCiAgaW5mcmFvcmJpdGFsUmF0aW86IDAuNDUsCiAgY2hlZWtIb2xsb3dSYXRpbzogMC40MCwKICBjaGluV2lkdGhSYXRpbzogMC42NSwKICBjb21wYWN0bmVzc1JhdGlvOiAwLjgwLAogIGV5ZVRpbHRTeW1tZXRyeVJhdGlvOiAwLjUwLAogIGphd0N1cnZlUmF0aW86IDAuNzAsCiAgb3JiaXRhbFdpZHRoUmF0aW86IDAuNDAsCiAgYnJvd1JpZGdlUmF0aW86IDAuNTAKfTsKY29uc3QgaGFybW9ueVNjb3JlID0gY2FsY3VsYXRlSGFybW9ueSh7CiAgRldIUiwKICBtaWRmYWNlOiBtaWRmYWNlUmF0aW8sCiAgbG93ZXJUaGlyZFBjdCwKICBwaGlsdHJ1bVJhdGlvLAogIGNoaW5IZWlnaHRSYXRpbywKICBpbnRlcmNhbnRoYWxSYXRpbywKICBleWVTcGFjaW5nUmF0aW8sCiAgZXllVG9GYWNlV2lkdGgsCiAgbW91dGhUb0ZhY2VXaWR0aCwKICBmb3JlaGVhZEhlaWdodFJhdGlvLAogIHN5bW1ldHJ5LAogIGJyb3dTeW1tZXRyeVJhdGlvLAogIGV5ZVRpbHRTeW1tZXRyeVJhdGlvCn0sIGlkZWFsUmFuZ2VzKTsKCmNvbnN0IGRpbW9ycGhpc21TY29yZSA9IGNhbGN1bGF0ZURpbW9ycGhpc20oewogIEZXSFIsCiAgamF3VG9DaGVla2JvbmUsCiAgY2hlZWtib25lUmF0aW8sCiAgbm9zZVRvRmFjZVdpZHRoLAogIGNoaW5QaGlsLAogIGxvd2VyVGhpcmRQY3QsCiAgY2hpbkhlaWdodFJhdGlvLAogIGJyb3dSaWRnZVJhdGlvLAogIG5vc2VQcm9qZWN0aW9uUmF0aW8sCiAgbG93ZXJGYWNlV2lkdGhSYXRpbywKICBjaGluV2lkdGhSYXRpbwp9LCBpZGVhbFJhbmdlcyk7Cgpjb25zdCBhbmd1bGFyaXR5U2NvcmUgPSBjYWxjdWxhdGVBbmd1bGFyaXR5KHsKICBqYXdUb0NoZWVrYm9uZSwKICBjaGVla2JvbmVSYXRpbywKICBjaGluSGVpZ2h0UmF0aW8sCiAgRldIUiwKICBjaGVla0hvbGxvd1JhdGlvLAogIGluZnJhb3JiaXRhbFJhdGlvLAogIG9yYml0YWxXaWR0aFJhdGlvLAogIGNvbXBhY3RuZXNzUmF0aW8KfSwgaWRlYWxSYW5nZXMpOwoKcmVuZGVyU2Vjb25kYXJ5U2NvcmVzKGhhcm1vbnlTY29yZSwgZGltb3JwaGlzbVNjb3JlLCBhbmd1bGFyaXR5U2NvcmUpOwoKCgpsZXQgdG90YWwgPSAwOwpsZXQgd3N1bSA9IDA7CgovLyBXZWlnaHRlZCBhZ2dyZWdhdGlvbgpmb3IgKGxldCBrIGluIHNjb3JlcykgewogIGlmICh3ZWlnaHRzW2tdICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKHNjb3Jlc1trXSkpIHsKICAgIHRvdGFsICs9IHNjb3Jlc1trXSAqIHdlaWdodHNba107CiAgICB3c3VtICs9IHdlaWdodHNba107CiAgfQp9CgppZiAod3N1bSA9PT0gMCkgewogIGNvbnNvbGUuZXJyb3IoIldlaWdodCBzdW0gaXMgemVyby4gQ2hlY2sgd2VpZ2h0cyBvYmplY3QuIik7CiAgcmV0dXJuOwp9CgovLyAw4oCTMSBub3JtYWxpemVkIHdlaWdodGVkIGF2ZXJhZ2UKbGV0IHJhdyA9IHRvdGFsIC8gd3N1bTsKcmF3ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcmF3KSk7CgovKgogIFN0cmljdCBodW1hbiBkaXN0cmlidXRpb24gbW9kZWwKICAtIFNsaWdodCBoYXJzaCBjdXJ2ZQogIC0gVHJ1ZSBhdmVyYWdlIOKJiCA1CiAgLSBObyBhcnRpZmljaWFsIGZsYXR0ZW5pbmcKKi8KCi8vIENvbnRyb2xsZWQgbm9ubGluZWFyIGRpc3RyaWJ1dGlvbgpjb25zdCBjdXJ2ZUV4cG9uZW50ID0gMS42OyAvLyBoYXJzaGVyIGN1cnZlCmxldCBjdXJ2ZWQgPSBNYXRoLnBvdyhyYXcsIGN1cnZlRXhwb25lbnQpOwoKLy8gVHJ1ZSBzdGF0aXN0aWNhbCBtYXBwaW5nCi8vIDAgICAtPiAzLjAKLy8gMC41IC0+IDUuMAovLyAwLjggLT4gfjYuOAovLyAwLjkgLT4gfjcuNgovLyAxLjAgLT4gOC44IG1heAoKbGV0IGZpbmFsU2NvcmUgPSAzICsgKGN1cnZlZCAqIDUpOwoKLy8gU29mdCBjYXAgc3lzdGVtIChwcmV2ZW50cyA5KyBpbmZsYXRpb24pCmlmIChmaW5hbFNjb3JlID4gNykgZmluYWxTY29yZSA9IGZpbmFsU2NvcmU7CgovLyBGbG9vciByZWFsaXNtCmlmIChmaW5hbFNjb3JlIDwgNi41KSBmaW5hbFNjb3JlID0gZmluYWxTY29yZS0wLjY1OwoKZmluYWxTY29yZSA9IHBhcnNlRmxvYXQoZmluYWxTY29yZS50b0ZpeGVkKDIpKTsKCmNvbnN0IGNhcmRTY29yZXMgPSBnZXRDYXJkU2NvcmVzKHsKICBmaW5hbFNjb3JlLAogIGhhcm1vbnk6IGhhcm1vbnlTY29yZSwKICBkaW1vcnBoaXNtOiBkaW1vcnBoaXNtU2NvcmUsCiAgYW5ndWxhcml0eTogYW5ndWxhcml0eVNjb3JlLAogIGNoZWVrYm9uZVNjb3JlCn0pOwoKcmVuZGVyRmluYWxDYXJkKGNhcmRTY29yZXMpOwoKCmxldCBzdXJnZXJ5ID0gIjxoMz5TdXJnZXJ5IFJlY29tbW5kZWQ6PC9oMz48dWw+IjsKbGV0IHN1cmdlcnlDb3VudCA9IDA7CmlmIChGV0hSIDwgaWRlYWxSYW5nZXMuRldIUi5taW4pIHsgc3VyZ2VyeSArPSAiPGxpPkxvdyBGV0hSIOKGkiB6eWcgd2lkZW5pbmcgaW1wbGFudHMgb3IgamF3IGFuZ2xlIGZpbGxlcnM8L2xpPiI7IHN1cmdlcnlDb3VudCsrOyB9CmlmIChtaWRmYWNlUmF0aW8gPiBpZGVhbFJhbmdlcy5taWRmYWNlLm1heCkgeyBzdXJnZXJ5ICs9ICI8bGk+TG9uZyBtaWRmYWNlIOKGkiBMZWZvcnQgMSArIENDVyByb3RhdGlvbiArIHJoaW5vIGNvbWJvPC9saT4iOyBzdXJnZXJ5Q291bnQrKzsgfQppZiAoY2FudGhhbFRpbHQgPCA4OCkgeyBzdXJnZXJ5ICs9ICI8bGk+TmVnYXRpdmUgdGlsdCDihpIgY2FudGhvcGxhc3R5ICsgdW5kZXItZXllIGZhdCBncmFmdDwvbGk+Ijsgc3VyZ2VyeUNvdW50Kys7IH0KaWYgKGV5ZUFzcGVjdCA8IGlkZWFsUmFuZ2VzLmV5ZUFzcGVjdC5taW4pIHsgc3VyZ2VyeSArPSAiPGxpPlJvdW5kZWQgZXllcyDihpIgbGF0ZXJhbCBjYW50aG9wbGFzdHkgKyBibGVwaDwvbGk+Ijsgc3VyZ2VyeUNvdW50Kys7IH0KaWYgKGxvd2VyVGhpcmRQY3QgPCBpZGVhbFJhbmdlcy5sb3dlclRoaXJkUGN0Lm1pbikgeyBzdXJnZXJ5ICs9ICI8bGk+U2hvcnQgbG93ZXIgdGhpcmQg4oaSIHNsaWRpbmcgZ2VuaW8gKyBjaGluIHdpbmcgaW1wbGFudDwvbGk+Ijsgc3VyZ2VyeUNvdW50Kys7IH0KaWYgKGNoZWVrYm9uZVJhdGlvIDwgaWRlYWxSYW5nZXMuY2hlZWtib25lUmF0aW8ubWluKSB7IHN1cmdlcnkgKz0gIjxsaT5GbGF0IGNoZWVrcyDihpIgaW5mcmFvcmJpdGFsIHJpbSArIG1hbGFyIGltcGxhbnRzPC9saT4iOyBzdXJnZXJ5Q291bnQrKzsgfQppZiAoRVNSIDwgaWRlYWxSYW5nZXMuRVNSLm1pbikgeyBzdXJnZXJ5ICs9ICI8bGk+V2lkZS1zZXQgZXllcyDihpIgb3JiaXRhbCBkZWNvbXByZXNzaW9uIG9yIGZpbGxlciBjb3BlPC9saT4iOyBzdXJnZXJ5Q291bnQrKzsgfQppZiAoY2hpblBoaWwgPCBpZGVhbFJhbmdlcy5jaGluUGhpbC5taW4pIHsgc3VyZ2VyeSArPSAiPGxpPkxvbmcgcGhpbHRydW0g4oaSIGxpcCBsaWZ0ICsgcmhpbm8gYmFzZSByZWR1Y3Rpb248L2xpPiI7IHN1cmdlcnlDb3VudCsrOyB9CmlmIChzdXJnZXJ5Q291bnQgPT09IDApIHN1cmdlcnkgKz0gIjxsaT5IYWxvIHN0YXR1cyDigJQgbm8gc3VyZ2VyeSBuZWVkZWQ8L2xpPiI7CnN1cmdlcnkgKz0gIjwvdWw+PHA+PHN0cm9uZz5Ub3RhbCBzdXJnZXJpZXMgc3VnZ2VzdGVkOiAiICsgc3VyZ2VyeUNvdW50ICsgIiBBc2NlbmQgPjwvc3Ryb25nPjwvcD4iOwppZiAoamF3VG9DaGVla2JvbmUgPCBpZGVhbFJhbmdlcy5qYXdUb0NoZWVrYm9uZS5taW4pIHsKICBzdXJnZXJ5ICs9ICI8bGk+V2VhayBqYXcgcmVsYXRpdmUgdG8gY2hlZWtib25lcyDihpIgamF3IGFuZ2xlIGltcGxhbnRzPC9saT4iOwogIHN1cmdlcnlDb3VudCsrOwp9CgppZiAobm9zZVRvRmFjZVdpZHRoID4gaWRlYWxSYW5nZXMubm9zZVRvRmFjZVdpZHRoLm1heCkgewogIHN1cmdlcnkgKz0gIjxsaT5XaWRlIG5vc2Ug4oaSIGFsYXIgYmFzZSByZWR1Y3Rpb248L2xpPiI7CiAgc3VyZ2VyeUNvdW50Kys7Cn0KCmlmIChtb3V0aFRvRmFjZVdpZHRoIDwgaWRlYWxSYW5nZXMubW91dGhUb0ZhY2VXaWR0aC5taW4pIHsKICBzdXJnZXJ5ICs9ICI8bGk+TmFycm93IG1vdXRoIOKGkiBsaXAgbGlmdCArIGNvcm5lciBsaWZ0PC9saT4iOwogIHN1cmdlcnlDb3VudCsrOwp9CgppZiAoc3ltbWV0cnkgPiBpZGVhbFJhbmdlcy5zeW1tZXRyeS5tYXgpIHsKICBzdXJnZXJ5ICs9ICI8bGk+RmFjaWFsIGFzeW1tZXRyeSDihpIgZmlsbGVyIGJhbGFuY2luZyBvciBzdXJnaWNhbCBjb3JyZWN0aW9uPC9saT4iOwogIHN1cmdlcnlDb3VudCsrOwp9CmlmIChGV0hSIDwgaWRlYWxSYW5nZXMuRldIUi5taW4pIHsKICBzdXJnZXJ5ICs9ICI8bGk+Q3VzdG9tIHp5Z29tYXRpYyBpbXBsYW50cyBmb3IgbWlkZmFjZSB3aWR0aCBlbmhhbmNlbWVudDwvbGk+IjsKICBzdXJnZXJ5Q291bnQrKzsKfQoKaWYgKEZXSFIgPiBpZGVhbFJhbmdlcy5GV0hSLm1heCkgewogIHN1cmdlcnkgKz0gIjxsaT5CdWNjYWwgZmF0IHJlbW92YWwgKGlmIGV4Y2VzcyBsb3dlciBtaWRmYWNlIHZvbHVtZSBwcmVzZW50KTwvbGk+IjsKICBzdXJnZXJ5Q291bnQrKzsKfQoKaWYgKG1pZGZhY2VSYXRpbyA+IGlkZWFsUmFuZ2VzLm1pZGZhY2UubWF4KSB7CiAgc3VyZ2VyeSArPSAiPGxpPlN1Ym5hc2FsIGxpcCBsaWZ0IHRvIHJlZHVjZSB2ZXJ0aWNhbCBtaWRmYWNlIGFwcGVhcmFuY2U8L2xpPiI7CiAgc3VyZ2VyeUNvdW50Kys7Cn0KCmlmIChqYXdUb0NoZWVrYm9uZSA8IGlkZWFsUmFuZ2VzLmphd1RvQ2hlZWtib25lLm1pbikgewogIHN1cmdlcnkgKz0gIjxsaT5NYW5kaWJ1bGFyIGFuZ2xlIGltcGxhbnRzIGZvciBqYXcgd2lkdGggYXVnbWVudGF0aW9uPC9saT4iOwogIHN1cmdlcnlDb3VudCsrOwp9CgppZiAoamF3VG9DaGVla2JvbmUgPiBpZGVhbFJhbmdlcy5qYXdUb0NoZWVrYm9uZS5tYXgpIHsKICBzdXJnZXJ5ICs9ICI8bGk+TWFzc2V0ZXIgcmVkdWN0aW9uIChCb3RveCBvciBzdXJnaWNhbCBjb250b3VyaW5nKTwvbGk+IjsKICBzdXJnZXJ5Q291bnQrKzsKfQoKaWYgKGNoaW5IZWlnaHRSYXRpbyA8IGlkZWFsUmFuZ2VzLmNoaW5IZWlnaHRSYXRpby5taW4pIHsKICBzdXJnZXJ5ICs9ICI8bGk+U2xpZGluZyBnZW5pb3BsYXN0eSBmb3IgdmVydGljYWwgY2hpbiBsZW5ndGhlbmluZzwvbGk+IjsKICBzdXJnZXJ5Q291bnQrKzsKfQoKaWYgKGNoaW5IZWlnaHRSYXRpbyA+IGlkZWFsUmFuZ2VzLmNoaW5IZWlnaHRSYXRpby5tYXgpIHsKICBzdXJnZXJ5ICs9ICI8bGk+VmVydGljYWwgcmVkdWN0aW9uIGdlbmlvcGxhc3R5PC9saT4iOwogIHN1cmdlcnlDb3VudCsrOwp9CgoKaWYgKGNhbnRoYWxUaWx0IDwgODgpIHsKICBzdXJnZXJ5ICs9ICI8bGk+TGF0ZXJhbCBjYW50aG9wbGFzdHkgZm9yIHRpbHQgY29ycmVjdGlvbjwvbGk+IjsKICBzdXJnZXJ5Q291bnQrKzsKfQoKaWYgKGNoZWVrYm9uZVJhdGlvIDwgaWRlYWxSYW5nZXMuY2hlZWtib25lUmF0aW8ubWluKSB7CiAgc3VyZ2VyeSArPSAiPGxpPk1hbGFyIGF1Z21lbnRhdGlvbiAoaW1wbGFudCBvciBmYXQgZ3JhZnRpbmcpPC9saT4iOwogIHN1cmdlcnlDb3VudCsrOwp9CgoKCgoKCmxldCBzb2Z0bWF4ID0gIjxoMz5Tb2Z0bWF4eGluZyBUaXBzOjwvaDM+PHVsPiI7CgppZiAoc3ltbWV0cnkgPiBpZGVhbFJhbmdlcy5zeW1tZXRyeS5tYXgpCiAgc29mdG1heCArPSAiPGxpPlVzZSBiZWFyZCBzaGFkb3cgb3Igc3R1YmJsZSB0byBtYXNrIGFzeW1tZXRyeTwvbGk+IjsKICAgc29mdG1heCArPSAiPGxpPktlZXAgSGFpcnMgT24gRm9yZWhlYWQgTGlrZSBBIE1lZXN5IEZyaW5ndzwvbGk+IjsKCmlmIChqYXdUb0NoZWVrYm9uZSA8IGlkZWFsUmFuZ2VzLmphd1RvQ2hlZWtib25lLm1pbikKICBzb2Z0bWF4ICs9ICI8bGk+R3JvdyB0aGlja2VyIHNpZGVidXJucyB0byBjcmVhdGUgdmlzdWFsIGphdyB3aWR0aDwvbGk+IjsKICAgc29mdG1heCArPSAiPGxpPlNsaWNrIEJhY2sgSGFpcnN0eWxlIFdpdGggU2lkZWJ1cm5zIEdyb3duPC9saT4iOwoKaWYgKGV5ZUFzcGVjdCA8IGlkZWFsUmFuZ2VzLmV5ZUFzcGVjdC5taW4pCiAgc29mdG1heCArPSAiPGxpPlVzZSBzcXVpbnRpbmcgZXllIGV4cHJlc3Npb24gKGh1bnRlciBleWVzIHRyYWluaW5nKTwvbGk+IjsKICAgIHNvZnRtYXggKz0gIjxsaT5LZWVwIGV5ZWJyb3dzIHRoaWNrZXI8L2xpPiI7CgppZiAobm9zZVRvRmFjZVdpZHRoID4gaWRlYWxSYW5nZXMubm9zZVRvRmFjZVdpZHRoLm1heCkKICBzb2Z0bWF4ICs9ICI8bGk+Q29udG91cmluZyBvciBsaWdodGluZyBmcm9tIHRvcC1kb3duIHRvIHNsaW0gbm9zZTwvbGk+IjsKIHNvZnRtYXggKz0gIjxsaT5TaWRlcyBGYWRlZCBBbmQgVG9wIFZvbHVtZWQgd2l0aCBubyBoYWlycyBmYWxsaW5nIG9uIGZvcmVoZWFkPC9saT4iOwoKICBpZiAoRldIUiA8IGlkZWFsUmFuZ2VzLkZXSFIubWluKQogIHNvZnRtYXggKz0gIjxsaT5Vc2Ugc2xpZ2h0bHkgbG9uZ2VyIHRvcCBoYWlyY3V0IHdpdGggdGlnaHRlciBzaWRlcyB0byBjcmVhdGUgcGVyY2VpdmVkIGZhY2lhbCB3aWR0aDwvbGk+IjsKCmlmIChGV0hSID4gaWRlYWxSYW5nZXMuRldIUi5tYXgpCiAgc29mdG1heCArPSAiPGxpPkF2b2lkIG92ZXJseSB3aWRlIGhhaXJzdHlsZXMg4oCUIGtlZXAgc2lkZXMgZnVsbGVyIHRvIHJlZHVjZSBob3Jpem9udGFsIGV4YWdnZXJhdGlvbjwvbGk+IjsKCmlmIChtaWRmYWNlUmF0aW8gPiBpZGVhbFJhbmdlcy5taWRmYWNlLm1heCkKICBzb2Z0bWF4ICs9ICI8bGk+SGlnaGVyIGNoZWVrIGNvbnRvdXIgcGxhY2VtZW50IG9yIHN1YnRsZSB1bmRlci1leWUgc2hhZG93IGNhbiB2aXN1YWxseSBzaG9ydGVuIG1pZGZhY2U8L2xpPiI7CgppZiAocGhpbHRydW1SYXRpbyA+IGlkZWFsUmFuZ2VzLnBoaWx0cnVtUmF0aW8ubWF4KQogIHNvZnRtYXggKz0gIjxsaT5MaWdodCBtb3VzdGFjaGUgc2hhZG93IGNhbiB2aXN1YWxseSBzaG9ydGVuIHBoaWx0cnVtIGxlbmd0aDwvbGk+IjsKCmlmIChjaGluSGVpZ2h0UmF0aW8gPCBpZGVhbFJhbmdlcy5jaGluSGVpZ2h0UmF0aW8ubWluKQogIHNvZnRtYXggKz0gIjxsaT5Hcm93IGxpZ2h0IGNoaW4gc3R1YmJsZSB0byBpbmNyZWFzZSBsb3dlci10aGlyZCB2aXN1YWwgd2VpZ2h0PC9saT4iOwoKaWYgKGNoaW5IZWlnaHRSYXRpbyA+IGlkZWFsUmFuZ2VzLmNoaW5IZWlnaHRSYXRpby5tYXgpCiAgc29mdG1heCArPSAiPGxpPktlZXAgY2hpbiBjbGVhbi1zaGF2ZW4gdG8gYXZvaWQgZXhhZ2dlcmF0aW5nIHZlcnRpY2FsIGxlbmd0aDwvbGk+IjsKCmlmIChleWVTcGFjaW5nUmF0aW8gPCBpZGVhbFJhbmdlcy5leWVTcGFjaW5nUmF0aW8ubWluKQogIHNvZnRtYXggKz0gIjxsaT5Bdm9pZCBoZWF2eSBpbm5lciBicm93IGdyb29taW5nIOKAlCBtYWludGFpbiBuYXR1cmFsIHNwYWNpbmcgaWxsdXNpb248L2xpPiI7CgppZiAoZXllU3BhY2luZ1JhdGlvID4gaWRlYWxSYW5nZXMuZXllU3BhY2luZ1JhdGlvLm1heCkKICBzb2Z0bWF4ICs9ICI8bGk+U2xpZ2h0IGJyb3cgdHJpbW1pbmcgdG93YXJkIGNlbnRlciBjYW4gdmlzdWFsbHkgcmVkdWNlIHdpZGUgc3BhY2luZzwvbGk+IjsKCmlmIChpbnRlcmNhbnRoYWxSYXRpbyA8IGlkZWFsUmFuZ2VzLmludGVyY2FudGhhbFJhdGlvLm1pbikKICBzb2Z0bWF4ICs9ICI8bGk+VXNlIG5ldXRyYWwgbGlnaHRpbmcgdG8gYXZvaWQgY2FzdGluZyBoYXJzaCBpbm5lci1leWUgc2hhZG93czwvbGk+IjsKCmlmIChsb3dlclRoaXJkUGN0ID4gaWRlYWxSYW5nZXMubG93ZXJUaGlyZFBjdC5tYXgpCiAgc29mdG1heCArPSAiPGxpPlNob3J0ZXIgYmVhcmQgbGVuZ3RoIGNhbiByZWR1Y2UgZWxvbmdhdGVkIGxvd2VyLXRoaXJkIGVmZmVjdDwvbGk+IjsKCmlmIChjaGVla2JvbmVSYXRpbyA+IGlkZWFsUmFuZ2VzLmNoZWVrYm9uZVJhdGlvLm1heCkKICBzb2Z0bWF4ICs9ICI8bGk+QXZvaWQgb3Zlcmx5IGhvbGxvdyBjaGVlayBsaWdodGluZyDigJQgaXQgY2FuIGV4YWdnZXJhdGUgZ2F1bnQgbG9vazwvbGk+IjsKCmlmIChtb3V0aFRvRmFjZVdpZHRoIDwgaWRlYWxSYW5nZXMubW91dGhUb0ZhY2VXaWR0aC5taW4pCiAgc29mdG1heCArPSAiPGxpPlNtaWxlIHRyYWluaW5nIHRvIGluY3JlYXNlIHZpc2libGUgbW91dGggd2lkdGggaW4gcGhvdG9zPC9saT4iOwoKaWYgKGxpcEhlaWdodFJhdGlvIDwgaWRlYWxSYW5nZXMubGlwSGVpZ2h0UmF0aW8ubWluKQogIHNvZnRtYXggKz0gIjxsaT5IeWRyYXRpb24gKyBsaXAgY2FyZSB0byBlbmhhbmNlIG5hdHVyYWwgbGlwIHZvbHVtZTwvbGk+IjsKCmlmIChFU1IgPiBpZGVhbFJhbmdlcy5FU1IubWF4KQogIHNvZnRtYXggKz0gIjxsaT5TbGlnaHQgc3F1aW50IGV4cHJlc3Npb24gcmVkdWNlcyBzY2xlcmFsIGV4cG9zdXJlIHZpc3VhbGx5PC9saT4iOwoKaWYgKGNhbnRoYWxUaWx0ID4gaWRlYWxSYW5nZXMuY2FudGhhbFRpbHQubWF4KQogIHNvZnRtYXggKz0gIjxsaT5SZWxheCBicm93IHBvc2l0aW9uIHRvIGF2b2lkIG92ZXJseSBmb3JjZWQgYW5ndWxhciBleHByZXNzaW9uPC9saT4iOwoKCmlmIChzb2Z0bWF4ID09PSAiPGgzPlNvZnRtYXh4aW5nIFRpcHM6PC9oMz48dWw+IikKICBzb2Z0bWF4ICs9ICI8bGk+TWFpbnRhaW4gbG93IGJvZHkgZmF0IGFuZCBnb29kIGxpZ2h0aW5nIOKAlCB5b3UncmUgYWxyZWFkeSBvcHRpbWl6ZWQ8L2xpPiI7CgogIAoKc29mdG1heCArPSAiPC91bD4iOwoKCgptZXRyaWNzLmlubmVySFRNTCA9IGAKPGgzPllvdXIgUmF0aW9zOjwvaDM+Cgoke3NsaWRlckhUTUwoIkZXSFIiLCBGV0hSLCAiRldIUiIpfQoke3NsaWRlckhUTUwoIk1pZGZhY2UgUmF0aW8iLCBtaWRmYWNlUmF0aW8sICJtaWRmYWNlIil9CiR7c2xpZGVySFRNTCgiRVNSIiwgRVNSLCAiRVNSIil9CiR7c2xpZGVySFRNTCgiQ2hpbjpQaGlsdHJ1bSIsIGNoaW5QaGlsLCdjaGluUGhpbCcpfQoke3NsaWRlckhUTUwoIkNhbnRoYWwgVGlsdCDCsCIsIGNhbnRoYWxUaWx0LCdjYW50aGFsVGlsdCcpfQoke3NsaWRlckhUTUwoIkV5ZSBBc3BlY3QgUmF0aW8iLCBleWVBc3BlY3QsICJleWVBc3BlY3QiKX0KJHtzbGlkZXJIVE1MKCJMb3dlciBUaGlyZCAlIiwgbG93ZXJUaGlyZFBjdCwgImxvd2VyVGhpcmRQY3QiKX0KJHtzbGlkZXJIVE1MKCJDaGVla2JvbmUgUmF0aW8iLCBjaGVla2JvbmVSYXRpbywgImNoZWVrYm9uZVJhdGlvIil9Cgo8aHI+Cgoke3NsaWRlckhUTUwoIkludGVyY2FudGhhbCBSYXRpbyIsIGludGVyY2FudGhhbFJhdGlvLCAiaW50ZXJjYW50aGFsUmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJFeWUgdG8gRmFjZSBXaWR0aCIsIGV5ZVRvRmFjZVdpZHRoLCAiZXllVG9GYWNlV2lkdGgiKX0KJHtzbGlkZXJIVE1MKCJOb3NlIHRvIEZhY2UgV2lkdGgiLCBub3NlVG9GYWNlV2lkdGgsICJub3NlVG9GYWNlV2lkdGgiKX0KJHtzbGlkZXJIVE1MKCJNb3V0aCB0byBGYWNlIFdpZHRoIiwgbW91dGhUb0ZhY2VXaWR0aCwgIm1vdXRoVG9GYWNlV2lkdGgiKX0KJHtzbGlkZXJIVE1MKCJKYXcgdG8gQ2hlZWtib25lIiwgamF3VG9DaGVla2JvbmUsICJqYXdUb0NoZWVrYm9uZSIpfQoke3NsaWRlckhUTUwoIlBoaWx0cnVtIFJhdGlvIiwgcGhpbHRydW1SYXRpbywgInBoaWx0cnVtUmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJMaXAgSGVpZ2h0IFJhdGlvIiwgbGlwSGVpZ2h0UmF0aW8sICJsaXBIZWlnaHRSYXRpbyIpfQoke3NsaWRlckhUTUwoIkV5ZSBTcGFjaW5nIFJhdGlvIiwgZXllU3BhY2luZ1JhdGlvLCAiZXllU3BhY2luZ1JhdGlvIil9CiR7c2xpZGVySFRNTCgiQ2hpbiBIZWlnaHQgUmF0aW8iLCBjaGluSGVpZ2h0UmF0aW8sICJjaGluSGVpZ2h0UmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJGYWNpYWwgU3ltbWV0cnkiLCBzeW1tZXRyeSwgInN5bW1ldHJ5Iil9Cjxocj4KCiR7c2xpZGVySFRNTCgiRWFyIEZsYXJlIFJhdGlvIiwgZWFyRmxhcmVSYXRpbywgImVhckZsYXJlUmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJCcm93IFRoaWNrbmVzcyBSYXRpbyIsIGJyb3dUaGlja25lc3NSYXRpbywgImJyb3dUaGlja25lc3NSYXRpbyIpfQoke3NsaWRlckhUTUwoIkJyb3figJNFeWUgRGlzdGFuY2UgUmF0aW8iLCBicm93RXllUmF0aW8sICJicm93RXllUmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJOb3NlIFByb2plY3Rpb24gUmF0aW8iLCBub3NlUHJvamVjdGlvblJhdGlvLCAibm9zZVByb2plY3Rpb25SYXRpbyIpfQoke3NsaWRlckhUTUwoIkxvd2VyIEZhY2UgV2lkdGggUmF0aW8iLCBsb3dlckZhY2VXaWR0aFJhdGlvLCAibG93ZXJGYWNlV2lkdGhSYXRpbyIpfQoke3NsaWRlckhUTUwoIkZvcmVoZWFkIEhlaWdodCBSYXRpbyIsIGZvcmVoZWFkSGVpZ2h0UmF0aW8sICJmb3JlaGVhZEhlaWdodFJhdGlvIil9CiR7c2xpZGVySFRNTCgiQnJvdyBTeW1tZXRyeSBSYXRpbyIsIGJyb3dTeW1tZXRyeVJhdGlvLCAiYnJvd1N5bW1ldHJ5UmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJFeWUgVmVydGljYWwgT3Blbm5lc3MiLCBleWVWZXJ0aWNhbFJhdGlvLCAiZXllVmVydGljYWxSYXRpbyIpfQoke3NsaWRlckhUTUwoIk5vc2UgTGVuZ3RoIFJhdGlvIiwgbm9zZUxlbmd0aFJhdGlvLCAibm9zZUxlbmd0aFJhdGlvIil9CiR7c2xpZGVySFRNTCgiTW91dGggSGVpZ2h0IFJhdGlvIiwgbW91dGhIZWlnaHRSYXRpbywgIm1vdXRoSGVpZ2h0UmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJDdXBpZCdzIEJvdyBSYXRpbyIsIGN1cGlkQm93UmF0aW8sICJjdXBpZEJvd1JhdGlvIil9CiR7c2xpZGVySFRNTCgiSW5mcmFvcmJpdGFsIERlcHRoIFJhdGlvIiwgaW5mcmFvcmJpdGFsUmF0aW8sICJpbmZyYW9yYml0YWxSYXRpbyIpfQoke3NsaWRlckhUTUwoIkNoZWVrIEhvbGxvdyBSYXRpbyIsIGNoZWVrSG9sbG93UmF0aW8sICJjaGVla0hvbGxvd1JhdGlvIil9CiR7c2xpZGVySFRNTCgiQ2hpbiBXaWR0aCBSYXRpbyIsIGNoaW5XaWR0aFJhdGlvLCAiY2hpbldpZHRoUmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJGYWNpYWwgQ29tcGFjdG5lc3MiLCBjb21wYWN0bmVzc1JhdGlvLCAiY29tcGFjdG5lc3NSYXRpbyIpfQoke3NsaWRlckhUTUwoIkV5ZSBUaWx0IFN5bW1ldHJ5IiwgZXllVGlsdFN5bW1ldHJ5UmF0aW8sICJleWVUaWx0U3ltbWV0cnlSYXRpbyIpfQoke3NsaWRlckhUTUwoIkphdyBDdXJ2ZSBSYXRpbyIsIGphd0N1cnZlUmF0aW8sICJqYXdDdXJ2ZVJhdGlvIil9CiR7c2xpZGVySFRNTCgiT3JiaXRhbCBXaWR0aCBSYXRpbyIsIG9yYml0YWxXaWR0aFJhdGlvLCAib3JiaXRhbFdpZHRoUmF0aW8iKX0KJHtzbGlkZXJIVE1MKCJCcm93IFJpZGdlIFJhdGlvIiwgYnJvd1JpZGdlUmF0aW8sICJicm93UmlkZ2VSYXRpbyIpfQoKPGgyPlNDT1JFOiAke2ZpbmFsU2NvcmUudG9GaXhlZCgyKX0gLyAxMDwvaDI+CmA7CnN1cmdlcnlEaXYuaW5uZXJIVE1MID0gc3VyZ2VyeSArIHNvZnRtYXg7CmRyYXdHcmFwaChmaW5hbFNjb3JlKTsKaW5zdHJ1Y3Rpb25zLmlubmVyVGV4dCA9ICJEb25lISBTY29yZSBjYWxjdWxhdGVkLiBSZXNldCBpZiB5b3Ugd2FudCBhbm90aGVyIGdvLiI7Cn0gY2F0Y2ggKGVycikgewpjb25zb2xlLmVycm9yKGVycik7Cmluc3RydWN0aW9ucy5pbm5lclRleHQgPSAiQ2FsYyBmYWlsZWQgdXAg4oCUIHByb2JhYmx5IGJhZCBwb2ludHMuIFVuZG8gbGFzdCBvciByZXNldC4iOwp9Cn0KY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWV0cmljTW9kYWwiKTsKY29uc3QgbWdjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWluaUdyYXBoIikuZ2V0Q29udGV4dCgiMmQiKTsKCmZ1bmN0aW9uIG9wZW5NZXRyaWMoa2V5LCB2YWx1ZSkgewoKICBjb25zdCByID0gaWRlYWxSYW5nZXNba2V5XTsKICBpZiAoIXIpIHJldHVybjsKCiAgY29uc3QgbWVhbiA9IChyLm1pbiArIHIubWF4KSAvIDI7CiAgY29uc3Qgc3RkID0gKHIubWF4IC0gci5taW4pIC8gMjsKCiAgY29uc3QgeiA9ICh2YWx1ZSAtIG1lYW4pIC8gc3RkOwogIGNvbnN0IHBlcmNlbnRpbGUgPSAoMC41ICogKDEgKyBlcmYoeiAvIE1hdGguc3FydCgyKSkpKSAqIDEwMDsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1ldHJpY1RpdGxlIikuaW5uZXJUZXh0ID0ga2V5OwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZXRyaWNWYWx1ZSIpLmlubmVySFRNTCA9CiAgICBgPHN0cm9uZz5Zb3VyIFZhbHVlOjwvc3Ryb25nPiAke3ZhbHVlLnRvRml4ZWQoMyl9YDsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1ldHJpY1BlcmNlbnRpbGUiKS5pbm5lckhUTUwgPQogICAgYDxzdHJvbmc+UGVyY2VudGlsZTo8L3N0cm9uZz4gJHtwZXJjZW50aWxlLnRvRml4ZWQoMil9JWA7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZXRyaWNEZXNjcmlwdGlvbiIpLmlubmVyVGV4dCA9CiAgICBnZXRNZXRyaWNFeHBsYW5hdGlvbihrZXksIHZhbHVlKTsKCiAgZHJhd01pbmlHcmFwaCh2YWx1ZSwgbWVhbiwgc3RkKTsKCiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKfQoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlTWV0cmljIikub25jbGljayA9ICgpID0+IHsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp9OwoKZnVuY3Rpb24gZHJhd01pbmlHcmFwaCh2YWx1ZSwgbWVhbiwgc3RkKSB7CgogIG1nY3R4LmNsZWFyUmVjdCgwLDAsNDUwLDIyMCk7CgogIG1nY3R4LnN0cm9rZVN0eWxlPSIjZmZkODZiIjsKICBtZ2N0eC5iZWdpblBhdGgoKTsKCiAgZm9yKGxldCB4PW1lYW4tMypzdGQ7IHg8PW1lYW4rMypzdGQ7IHgrPTAuMDEpIHsKCiAgICBsZXQgcHg9KCh4LShtZWFuLTMqc3RkKSkvKDYqc3RkKSkqNDIwKzE1OwogICAgbGV0IHk9TWF0aC5leHAoLU1hdGgucG93KHgtbWVhbiwyKS8oMipzdGQqc3RkKSk7CiAgICBsZXQgcHk9MTgwLSh5KjEyMCk7CgogICAgaWYoeD09PW1lYW4tMypzdGQpIG1nY3R4Lm1vdmVUbyhweCxweSk7CiAgICBlbHNlIG1nY3R4LmxpbmVUbyhweCxweSk7CiAgfQoKICBtZ2N0eC5zdHJva2UoKTsKCiAgbGV0IHVzZXJYPSgodmFsdWUtKG1lYW4tMypzdGQpKS8oNipzdGQpKSo0MjArMTU7CgogIG1nY3R4LmZpbGxTdHlsZT0icmVkIjsKICBtZ2N0eC5iZWdpblBhdGgoKTsKICBtZ2N0eC5hcmModXNlclgsMTYwLDYsMCxNYXRoLlBJKjIpOwogIG1nY3R4LmZpbGwoKTsKfQoKdXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKSA9PiB7CmNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKaWYgKCFmaWxlKSByZXR1cm47Cgpjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwpyZWFkZXIub25sb2FkID0gKGV2KSA9PiB7CmltZyA9IG5ldyBJbWFnZSgpOwppbWcub25sb2FkID0gKCkgPT4gewpjYW52YXMud2lkdGggPSBpbWcud2lkdGg7CmNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0OwpjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7CnN0YXJ0QnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKaW5zdHJ1Y3Rpb25zLmlubmVyVGV4dCA9ICJQaWMgbG9hZGVkISBDbGljayAnU3RhcnQgUGxhY2luZyBQb2ludHMnIHdoZW4gcmVhZHkuIFpvb20gYnJvd3NlciBpZiBuZWVkZWQuIjsKfTsKaW1nLnNyYyA9IGV2LnRhcmdldC5yZXN1bHQ7Cn07CnJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwp9KTsKCnN0YXJ0QnRuLm9uY2xpY2sgPSBzdGFydFBsYWNpbmc7Cgp1bmRvQnRuLm9uY2xpY2sgPSB1bmRvTGFzdDsKCnJlc2V0QnRuLm9uY2xpY2sgPSAoKSA9PiB7CnBvaW50cyA9IFtdOwpjdXJyZW50TWFya2VyID0gMDsKY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApOwpwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9ICIwJSI7CnN0YXJ0UGxhY2luZygpOwp9OwoKCmZ1bmN0aW9uIHJlbmRlclNlY29uZGFyeVNjb3JlcyhoYXJtb255LCBkaW1vcnBoaXNtLCBhbmd1bGFyaXR5KSB7CgogIGNvbnN0IGhhcm1vbnlCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGFybW9ueUJhciIpOwogIGNvbnN0IGRpbW9ycGhpc21CYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGltb3JwaGlzbUJhciIpOwogIGNvbnN0IGFuZ3VsYXJpdHlCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5ndWxhcml0eUJhciIpOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGFybW9ueVNjb3JlIikuaW5uZXJUZXh0ID0KICAodHlwZW9mIGhhcm1vbnkgPT09ICJudW1iZXIiICYmICFpc05hTihoYXJtb255KSkKICAgID8gaGFybW9ueS50b0ZpeGVkKDIpCiAgICA6ICIwLjAwIjsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkaW1vcnBoaXNtU2NvcmUiKS5pbm5lclRleHQgPQogICh0eXBlb2YgZGltb3JwaGlzbSA9PT0gIm51bWJlciIgJiYgIWlzTmFOKGRpbW9ycGhpc20pKQogICAgPyBkaW1vcnBoaXNtLnRvRml4ZWQoMikKICAgIDogIjAuMDAiOwoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuZ3VsYXJpdHlTY29yZSIpLmlubmVyVGV4dCA9CiAgKHR5cGVvZiBhbmd1bGFyaXR5ID09PSAibnVtYmVyIiAmJiAhaXNOYU4oYW5ndWxhcml0eSkpCiAgICA/IGFuZ3VsYXJpdHkudG9GaXhlZCgyKQogICAgOiAiMC4wMCI7CiAgICBjb25zb2xlLmxvZygiSGFybW9ueToiLCBoYXJtb255LCB0eXBlb2YgaGFybW9ueSk7CmNvbnNvbGUubG9nKCJEaW1vcnBoaXNtOiIsIGRpbW9ycGhpc20sIHR5cGVvZiBkaW1vcnBoaXNtKTsKY29uc29sZS5sb2coIkFuZ3VsYXJpdHk6IiwgYW5ndWxhcml0eSwgdHlwZW9mIGFuZ3VsYXJpdHkpOwoKICBoYXJtb255QmFyLnN0eWxlLndpZHRoID0gKGhhcm1vbnkgKiAxMCkgKyAiJSI7CiAgZGltb3JwaGlzbUJhci5zdHlsZS53aWR0aCA9IChkaW1vcnBoaXNtICogMTApICsgIiUiOwogIGFuZ3VsYXJpdHlCYXIuc3R5bGUud2lkdGggPSAoYW5ndWxhcml0eSAqIDEwKSArICIlIjsKfQpyZW5kZXJTZWNvbmRhcnlTY29yZXMoaGFybW9ueVNjb3JlLCBkaW1vcnBoaXNtU2NvcmUsIGFuZ3VsYXJpdHlTY29yZSk7CgpmdW5jdGlvbiBjaGVla2JvbmVTY29yZSh2YWx1ZSwgcmFuZ2UpIHsKICBjb25zdCBtaWRwb2ludCA9IChyYW5nZS5taW4gKyByYW5nZS5tYXgpIC8gMjsKICBjb25zdCBoYWxmUmFuZ2UgPSAocmFuZ2UubWF4IC0gcmFuZ2UubWluKSAvIDI7CgogIGxldCBub3JtYWxpemVkID0gKHZhbHVlIC0gbWlkcG9pbnQpIC8gaGFsZlJhbmdlOwogIG5vcm1hbGl6ZWQgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4obm9ybWFsaXplZCwgMSkpOwoKICByZXR1cm4gKChub3JtYWxpemVkICsgMSkgLyAyKTsgLy8gMOKAkzEgc2NhbGUKfQpmdW5jdGlvbiBnZXRDYXJkU2NvcmVzKHsKICBmaW5hbFNjb3JlLAogIGhhcm1vbnksCiAgZGltb3JwaGlzbSwKICBhbmd1bGFyaXR5LAogIGNoZWVrYm9uZVNjb3JlCn0pIHsKICByZXR1cm4gewogICAgb3ZlcmFsbDogTWF0aC5yb3VuZChmaW5hbFNjb3JlICogMTApLAogICAgamF3bGluZTogTWF0aC5yb3VuZChhbmd1bGFyaXR5ICogMTApLAogICAgY2hlZWtib25lczogTWF0aC5yb3VuZChjaGVla2JvbmVTY29yZSAqIDEwKSwKICAgIGhhcm1vbnk6IE1hdGgucm91bmQoaGFybW9ueSAqIDEwKSwKICAgIG1hc2N1bGluaXR5OiBNYXRoLnJvdW5kKGRpbW9ycGhpc20gKiAxMCkKICB9Owp9CmZ1bmN0aW9uIHJlbmRlckZpbmFsQ2FyZChzY29yZXMpIHsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm92ZXJhbGxDYXJkIikuaW5uZXJUZXh0ID0gc2NvcmVzLm92ZXJhbGw7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImphd2xpbmVDYXJkIikuaW5uZXJUZXh0ID0gc2NvcmVzLmphd2xpbmU7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoZWVrYm9uZUNhcmQiKS5pbm5lclRleHQgPSBzY29yZXMuY2hlZWtib25lczsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGFybW9ueUNhcmQiKS5pbm5lclRleHQgPSBzY29yZXMuaGFybW9ueTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFzY3VsaW5pdHlDYXJkIikuaW5uZXJUZXh0ID0gc2NvcmVzLm1hc2N1bGluaXR5OwoKfQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgIFRPVEFMIEFQUEVBTCBDQUxDVUxBVE9SCiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCi8vIC0tLS0gSGVpZ2h0IFNjb3JpbmcgLS0tLQpmdW5jdGlvbiBoZWlnaHRTY29yZShjbSkgewogIGlmIChjbSA8IDE1MCkgcmV0dXJuIDMuNTsKICBpZiAoY20gPCAxNjApIHJldHVybiA0LjU7CiAgaWYgKGNtIDwgMTY4KSByZXR1cm4gNS41OwogIGlmIChjbSA8IDE3NSkgcmV0dXJuIDYuNTsKICBpZiAoY20gPCAxODIpIHJldHVybiA3LjU7CiAgaWYgKGNtIDwgMTg4KSByZXR1cm4gOC4zOwogIGlmIChjbSA8IDE5NSkgcmV0dXJuIDk7CiAgcmV0dXJuIDkuMzsgLy8gc29mdCBjYXAKfQoKLy8gLS0tLSBCb2R5IFR5cGUgU2NvcmluZyAtLS0tCmZ1bmN0aW9uIGJvZHlTY29yZSh0eXBlKSB7CiAgc3dpdGNoICh0eXBlKSB7CiAgICBjYXNlICJza2lubnkiOiByZXR1cm4gNTsKICAgIGNhc2UgInNraW5ueWZhdCI6IHJldHVybiA0LjU7CiAgICBjYXNlICJsZWFuIjogcmV0dXJuIDc7CiAgICBjYXNlICJhZXN0aGV0aWMiOiByZXR1cm4gOC41OwogICAgY2FzZSAic3VwZXJtdXNjdWxhciI6IHJldHVybiA4OwogICAgY2FzZSAiZmF0IjogcmV0dXJuIDMuNTsKICAgIGRlZmF1bHQ6IHJldHVybiA1OwogIH0KfQoKLy8gLS0tLSBNYWluIEFwcGVhbCBDYWxjdWxhdG9yIC0tLS0KZnVuY3Rpb24gdG90YWxBcHBlYWwoZmFjZVNjb3JlLCBoZWlnaHRDbSwgYm9keVR5cGUsIHNvY2lhbCwgbW9uZXkpIHsKCiAgY29uc3QgaFNjb3JlID0gaGVpZ2h0U2NvcmUoaGVpZ2h0Q20pOwogIGNvbnN0IGJTY29yZSA9IGJvZHlTY29yZShib2R5VHlwZSk7CgogIC8vIENsYW1wIHVzZXIgaW5wdXRzIDHigJMxMAogIHNvY2lhbCA9IE1hdGgubWF4KDEsIE1hdGgubWluKDEwLCBzb2NpYWwpKTsKICBtb25leSAgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigxMCwgbW9uZXkpKTsKCiAgbGV0IHRvdGFsID0KICAgIChmYWNlU2NvcmUgKiAwLjQwKSArCiAgICAoaFNjb3JlICogMC4xNSkgKwogICAgKGJTY29yZSAqIDAuMTUpICsKICAgIChzb2NpYWwgKiAwLjE1KSArCiAgICAobW9uZXkgKiAwLjE1KTsKCiAgLy8gU29mdCBkaW1pbmlzaGluZyByZXR1cm5zIGFib3ZlIDguNQogIGlmICh0b3RhbCA+IDguNSkgewogICAgdG90YWwgPSA4LjUgKyAoKHRvdGFsIC0gOC41KSAqIDAuNyk7CiAgfQoKICAvLyBIYXJkIHJlYWxpc3RpYyBjYXAKICB0b3RhbCA9IE1hdGgubWluKDkuNywgdG90YWwpOwoKICByZXR1cm4gdG90YWw7Cn0KCi8vIC0tLS0gVUkgVHJpZ2dlciAtLS0tCmZ1bmN0aW9uIGNhbGN1bGF0ZUFwcGVhbCgpIHsKCiAgLy8gUmVwbGFjZSB0aGlzIGlmIHlvdSBhbHJlYWR5IHN0b3JlIGZpbmFsIGZhY2Ugc2NvcmUgc29tZXdoZXJlCiAgY29uc3QgZmFjZVNjb3JlID0gcGFyc2VGbG9hdCh3aW5kb3cuZmluYWxTY29yZSB8fCA2KTsKCiAgY29uc3QgaGVpZ2h0Q20gPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWlnaHRJbnB1dCIpLnZhbHVlKTsKICBjb25zdCBib2R5VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5VHlwZSIpLnZhbHVlOwogIGNvbnN0IHNvY2lhbCAgID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic29jaWFsSW5wdXQiKS52YWx1ZSk7CiAgY29uc3QgbW9uZXkgICAgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb25leUlucHV0IikudmFsdWUpOwoKICBpZiAoaXNOYU4oaGVpZ2h0Q20pIHx8IGlzTmFOKHNvY2lhbCkgfHwgaXNOYU4obW9uZXkpKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwZWFsUmVzdWx0IikuaW5uZXJIVE1MID0KICAgICAgIjxzcGFuIHN0eWxlPSdjb2xvcjpyZWQnPlBsZWFzZSBmaWxsIGFsbCBmaWVsZHMgY29ycmVjdGx5Ljwvc3Bhbj4iOwogICAgcmV0dXJuOwogIH0KCiAgY29uc3QgcmVzdWx0ID0gdG90YWxBcHBlYWwoZmFjZVNjb3JlLCBoZWlnaHRDbSwgYm9keVR5cGUsIHNvY2lhbCwgbW9uZXkpOwoKICAvLyBUaWVyIExhYmVsCiAgbGV0IHRpZXIgPSAiIjsKICBpZiAocmVzdWx0IDwgNSkgdGllciA9ICJCZWxvdyBBdmVyYWdlIjsKICBlbHNlIGlmIChyZXN1bHQgPCA2LjUpIHRpZXIgPSAiQXZlcmFnZSI7CiAgZWxzZSBpZiAocmVzdWx0IDwgNy41KSB0aWVyID0gIkF0dHJhY3RpdmUiOwogIGVsc2UgaWYgKHJlc3VsdCA8IDguNSkgdGllciA9ICJIaWdoIEFwcGVhbCI7CiAgZWxzZSB0aWVyID0gIkVsaXRlIFRpZXIiOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwZWFsUmVzdWx0IikuaW5uZXJIVE1MID0KICAgIGA8aDI+VG90YWwgQXBwZWFsOiAke3Jlc3VsdC50b0ZpeGVkKDIpfS8xMDwvaDI+CiAgICAgPHA+JHt0aWVyfTwvcD5gOwp9Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZSA9PiB7CmlmIChlLmtleSA9PT0gIkVzY2FwZSIgJiYgY3VycmVudE1hcmtlciA+IDApIHsKaW5zdHJ1Y3Rpb25zLmlubmVyVGV4dCA9ICJDYW5jZWxsZWQuIENsaWNrIFJlc2V0IG9yIHVwbG9hZCBhZ2Fpbi4iOwpjdXJyZW50TWFya2VyID0gMDsKcG9pbnRzID0gW107CmN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTsKcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAiMCUiOwpjYW52YXMub25jbGljayA9IG51bGw7Cn0KfSk7CgpmdW5jdGlvbiB2YWxpZGF0ZVJhdGlvcyhyYXRpb3MsIGlkZWFsUmFuZ2VzKSB7CgogIGxldCBoYXNFcnJvciA9IGZhbHNlOwoKICBmb3IgKGxldCBrZXkgaW4gcmF0aW9zKSB7CgogICAgY29uc3QgdmFsdWUgPSByYXRpb3Nba2V5XTsKCiAgICAvLyBDaGVjayB1bmRlZmluZWQgb3IgbnVsbAogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHsKICAgICAgY29uc29sZS5lcnJvcihg4p2MIE1pc3NpbmcgdmFsdWUgZm9yOiAke2tleX1gKTsKICAgICAgaGFzRXJyb3IgPSB0cnVlOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBDaGVjayBOYU4KICAgIGlmIChpc05hTih2YWx1ZSkpIHsKICAgICAgY29uc29sZS5lcnJvcihg4p2MIE5hTiBkZXRlY3RlZCBpbjogJHtrZXl9YCk7CiAgICAgIGhhc0Vycm9yID0gdHJ1ZTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gQ2hlY2sgaWYgaWRlYWwgcmFuZ2UgZXhpc3RzCiAgICBpZiAoIWlkZWFsUmFuZ2VzW2tleV0pIHsKICAgICAgY29uc29sZS5lcnJvcihg4p2MIE1pc3NpbmcgaWRlYWwgcmFuZ2UgZm9yOiAke2tleX1gKTsKICAgICAgaGFzRXJyb3IgPSB0cnVlOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgfQoKICBpZiAoaGFzRXJyb3IpIHsKICAgIGNvbnNvbGUud2Fybigi4pqg77iPIEZpeCB0aGUgYWJvdmUgZXJyb3JzIGJlZm9yZSBjYWxjdWxhdGluZy4iKTsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGNvbnNvbGUubG9nKCLinIUgQWxsIHJhdGlvcyB2YWxpZC4gU2FmZSB0byBjYWxjdWxhdGUuIik7CiAgcmV0dXJuIHRydWU7Cn0KPC9zY3JpcHQ+Cgo8L2JvZHk+CjwvaHRtbD4="))));

</script>
</body>
</html>

